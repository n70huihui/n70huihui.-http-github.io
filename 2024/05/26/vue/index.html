<!DOCTYPE HTML>
<html lang="zh-CN">


<head>
    <meta charset="utf-8">
    <meta name="keywords" content="Vue, 热心市民灰灰个人博客">
    <meta name="description" content="个人博客，欢迎访问">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <!-- Global site tag (gtag.js) - Google Analytics -->


    <title>Vue | 热心市民灰灰个人博客</title>
    <link rel="icon" type="image/png" href="/favicon.png">

    <link rel="stylesheet" type="text/css" href="/libs/awesome/css/all.css">
    <link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
    <link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
    <link rel="stylesheet" type="text/css" href="/css/matery.css">
    <link rel="stylesheet" type="text/css" href="/css/my.css">

    <script src="/libs/jquery/jquery.min.js"></script>

<meta name="generator" content="Hexo 6.3.0">
<style>.github-emoji { position: relative; display: inline-block; width: 1.2em; min-height: 1.2em; overflow: hidden; vertical-align: top; color: transparent; }  .github-emoji > span { position: relative; z-index: 10; }  .github-emoji img, .github-emoji .fancybox { margin: 0 !important; padding: 0 !important; border: none !important; outline: none !important; text-decoration: none !important; user-select: none !important; cursor: auto !important; }  .github-emoji img { height: 1.2em !important; width: 1.2em !important; position: absolute !important; left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; user-select: none !important; cursor: auto !important; } .github-emoji-fallback { color: inherit; } .github-emoji-fallback img { opacity: 0 !important; }</style>
</head>




<body>

    <!-- 动态标签栏 -->
    <script type="text/javascript">
    var OriginTitile = document.title, st; 
    document.addEventListener("visibilitychange", function () { 
      document.hidden ? (document.title = "这就走啦？不打算再看看吗？", clearTimeout(st)) : (document.title = "噫！好！你来啦！", st = setTimeout(function () { document.title = OriginTitile }, 3e3)) }) 
    </script>

    <!--深色模式-->
    <!-- 白天和黑夜主题 -->
<div class="sum-moon-box">
    <a class="btn-floating btn-large waves-effect waves-light" onclick="switchNightMode()" title="切换主题" >
      <i id="sum-moon-icon" class="fas fa-sun" style="width:48px; height:48px; font-size: 28px;"></i>
    </a>
  </div>
  
  <script>
    function switchNightMode() {
      $('<div class="Cuteen_DarkSky"><div class="Cuteen_DarkPlanet"></div></div>').appendTo($('body')),
        setTimeout(function () {
          $('body').hasClass('DarkMode') 
          ? ($('body').removeClass('DarkMode'), localStorage.setItem('isDark', '0'), $('#sum-moon-icon').removeClass("fa-sun").addClass('fa-moon')) 
          : ($('body').addClass('DarkMode'), localStorage.setItem('isDark', '1'), $('#sum-moon-icon').addClass("fa-sun").removeClass('fa-moon')),
            
          setTimeout(function () {
            $('.Cuteen_DarkSky').fadeOut(1e3, function () {
              $(this).remove()
            })
          }, 2e3)
        })
    }
  </script>

<div class="stars-con">
    <div id="stars"></div>
    <div id="stars2"></div>
    <div id="stars3"></div>  
  </div>
    <script>
    /* 模式判断 */
    if (localStorage.getItem('isDark') === '1') {
        document.body.classList.add('DarkMode');
        $('#sum-moon-icon').addClass("fa-sun").removeClass('fa-moon')
    } else {
        document.body.classList.remove('DarkMode');
        $('#sum-moon-icon').removeleClass("fa-sun").addClass('fa-moon')
    }
    </script>
    <!--深色模式-->
     
    <header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="/medias/loading.gif" data-original="/medias/logo.png" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">热心市民灰灰个人博客</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a>
<ul class="right nav-menu">
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/" class="waves-effect waves-light">
      
      <i class="fas fa-home" style="zoom: 0.6;"></i>
      
      <span>首页</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/tags" class="waves-effect waves-light">
      
      <i class="fas fa-tags" style="zoom: 0.6;"></i>
      
      <span>标签</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/categories" class="waves-effect waves-light">
      
      <i class="fas fa-bookmark" style="zoom: 0.6;"></i>
      
      <span>分类</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/archives" class="waves-effect waves-light">
      
      <i class="fas fa-archive" style="zoom: 0.6;"></i>
      
      <span>归档</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/about" class="waves-effect waves-light">
      
      <i class="fas fa-user-circle" style="zoom: 0.6;"></i>
      
      <span>关于</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/contact" class="waves-effect waves-light">
      
      <i class="fas fa-comments" style="zoom: 0.6;"></i>
      
      <span>留言板</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/friends" class="waves-effect waves-light">
      
      <i class="fas fa-address-book" style="zoom: 0.6;"></i>
      
      <span>友情链接</span>
    </a>
    
  </li>
  
  <li>
    <a href="#searchModal" class="modal-trigger waves-effect waves-light">
      <i id="searchIcon" class="fas fa-search" title="搜索" style="zoom: 0.85;"></i>
    </a>
  </li>
</ul>


<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="/medias/loading.gif" data-original="/medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">热心市民灰灰个人博客</div>
        <div class="logo-desc">
            
            个人博客，欢迎访问
            
        </div>
    </div>

    

    <ul class="menu-list mobile-menu-list">
        
        <li class="m-nav-item">
	  
		<a href="/" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-home"></i>
			
			首页
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/tags" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-tags"></i>
			
			标签
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/categories" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-bookmark"></i>
			
			分类
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/archives" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-archive"></i>
			
			归档
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/about" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-user-circle"></i>
			
			关于
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/contact" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-comments"></i>
			
			留言板
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/friends" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-address-book"></i>
			
			友情链接
		</a>
          
        </li>
        
        
    </ul>
</div>


        </div>

        
    </nav>

</header>

    



<div class="bg-cover pd-header post-cover" style="background-image: url('/medias/featureimages/Vue.jpg')">
    <div class="container" style="right: 0px;left: 0px;">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <h1 class="description center-align post-title">Vue</h1>
                </div>
            </div>
        </div>
    </div>
</div>




<main class="post-container content">

    
    <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
<style>
    #articleContent h1::before,
    #articleContent h2::before,
    #articleContent h3::before,
    #articleContent h4::before,
    #articleContent h5::before,
    #articleContent h6::before {
        display: block;
        content: " ";
        height: 100px;
        margin-top: -100px;
        visibility: hidden;
    }

    #articleContent :focus {
        outline: none;
    }

    .toc-fixed {
        position: fixed;
        top: 64px;
    }

    .toc-widget {
        width: 345px;
        padding-left: 20px;
    }

    .toc-widget .toc-title {
        padding: 35px 0 15px 17px;
        font-size: 1.5rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    .toc-widget ol {
        padding: 0;
        list-style: none;
    }

    #toc-content {
        padding-bottom: 30px;
        overflow: auto;
    }

    #toc-content ol {
        padding-left: 10px;
    }

    #toc-content ol li {
        padding-left: 10px;
    }

    #toc-content .toc-link:hover {
        color: #576690;
        font-weight: 700;
        text-decoration: underline;
    }

    #toc-content .toc-link::before {
        background-color: transparent;
        max-height: 25px;

        position: absolute;
        right: 23.5vw;
        display: block;
    }

    #toc-content .is-active-link {
        color: #576690;
    }

    #floating-toc-btn {
        position: fixed;
        right: 15px;
        bottom: 76px;
        padding-top: 15px;
        margin-bottom: 0;
        z-index: 998;
    }

    #floating-toc-btn .btn-floating {
        width: 48px;
        height: 48px;
    }

    #floating-toc-btn .btn-floating i {
        line-height: 48px;
        font-size: 1.4rem;
    }
</style>
<div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                    <div class="article-tag">
                        
                            <a href="/tags/Vue/">
                                <span class="chip bg-color">Vue</span>
                            </a>
                        
                    </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                    <div class="post-cate">
                        <i class="fas fa-bookmark fa-fw icon-category"></i>
                        
                            <a href="/categories/Vue/" class="post-category">
                                Vue
                            </a>
                        
                    </div>
                    
                </div>
            </div>

            <div class="post-info">
                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-minus fa-fw"></i>发布日期:&nbsp;&nbsp;
                    2024-05-26
                </div>
                

                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-check fa-fw"></i>更新日期:&nbsp;&nbsp;
                    2024-08-26
                </div>
                

                
                <div class="info-break-policy">
                    <i class="far fa-file-word fa-fw"></i>文章字数:&nbsp;&nbsp;
                    20.1k
                </div>
                

                
                <div class="info-break-policy">
                    <i class="far fa-clock fa-fw"></i>阅读时长:&nbsp;&nbsp;
                    89 分
                </div>
                

                
                    <div id="busuanzi_container_page_pv" class="info-break-policy">
                        <i class="far fa-eye fa-fw"></i>阅读次数:&nbsp;&nbsp;
                        <span id="busuanzi_value_page_pv"></span>
                    </div>
				
            </div>
        </div>
        <hr class="clearfix">

        
        <!-- 是否加载使用自带的 prismjs. -->
        <link rel="stylesheet" href="/libs/prism/prism.css">
        

        

        <div class="card-content article-card-content">
            <div id="articleContent">
                <h1 id="Vue"><a href="#Vue" class="headerlink" title="Vue"></a>Vue</h1><h2 id="前端工程化"><a href="#前端工程化" class="headerlink" title="前端工程化"></a>前端工程化</h2><blockquote>
<p>前端工程化是使用软件工程的方法来单独解决前端的开发流程中<strong>模块化、组件化、规范化、自动化</strong>的问题，其主要目的是为了提高效率和降低成本。前端工程化是将项目中前端相关的代码剥离出来，形成一个独立的工程。使用相关的专门的技术来实现前端代码的“四化”，这也是前后端分离。</p>
</blockquote>
<p>前端工程化相关技术栈：</p>
<ul>
<li>ECMAScript6：VUE3 中大量使用 ES6 语法。</li>
<li>Nodejs：前端项目运行环境。</li>
<li>npm：依赖下载工具。</li>
<li>vite：前端项目构建工具。</li>
<li>VUE3：优秀的渐进式前端框架。</li>
<li>router：通过路由实现页面切换。</li>
<li>pinia：通过状态管理实现组件数据传递。</li>
<li>axios：ajax 异步请求封装技术实现前后端数据交互。</li>
<li>Element-plus：可以提供丰富的快速构建网页的组件仓库。</li>
</ul>
<h3 id="Node-js-简介"><a href="#Node-js-简介" class="headerlink" title="Node.js 简介"></a>Node.js 简介</h3><blockquote>
<p>Node.js 是一个基于 Chrome V8 引擎的 JavaScript 运行环境，可以使原本运行在浏览器上的 JavaScript 运行在服务端。使用 Node.js 可以方便地开发服务器端应用程序，如 Web 应用、API、后端服务，还可以通过 Node.js 构建命令行工具等。使得 JavaScript 从脚本语言成为一种全栈语言。</p>
</blockquote>
<p>相比于传统的服务端语言（如 PHP、Java、Python 等），Node.js 具有以下特点：</p>
<ul>
<li>单线程，但是采用了<strong>事件驱动、异步 IO 模型</strong>，可以处理高并发请求。</li>
<li>轻量级，V8 引擎使得 Node.js 的运行速度很快。</li>
<li>模块化，Node.js 内置了大量模块，同时也可以通过第三方模块扩展功能。</li>
<li>跨平台，可以在 Windows、Linux、Mac 等多种平台下运行。</li>
</ul>
<p>下载地址<a target="_blank" rel="noopener" href="https://nodejs.org/en">戳我跳转</a>。</p>
<h3 id="npm-的配置和使用"><a href="#npm-的配置和使用" class="headerlink" title="npm 的配置和使用"></a>npm 的配置和使用</h3><blockquote>
<p>NPM 全称 Node Package Manager，是 Node.js 包管理工具，是全球最大的模块生态系统，里面所有的模块都是开源免费的，也是 Node.js 的包管理工具，相当于后端的 Maven。是前端框架的下载工具，也是前端项目的管理工具。</p>
</blockquote>
<p>npm 的配置：</p>
<ul>
<li>在命令行工具中使用 <code> npm config set registry https://registry.npmmirror.com</code>命令可以将下载源从国外的中央仓库转移到国内的阿里镜像仓库，提高下载速度。</li>
<li>使用 <code>npm config set registry https://registry.npmjs.org/</code> 命令可以将下载源恢复回中央仓库。</li>
<li>使用 <code>npm config set prefix "路径名"</code>命令可以将下载地址转移到自定义磁盘路径中。（默认为：<code>C:\Users\40200\AppData\Roaming\npm</code>）</li>
</ul>
<p>npm 的使用：</p>
<ul>
<li>查看所有依赖<a target="_blank" rel="noopener" href="https://www.npmjs.com/">网址</a>。</li>
<li>使用 <code>npm init</code> 为文件配置 npm 初始化，使用 <code>npm init -y</code> 可以跳过所有可选项的设置，使用默认值。</li>
<li>使用 <code>npm install 包名</code> 或者 <code>npm install 包名@版本号</code>安装依赖到当前项目中。</li>
<li>使用<code>npm install -g 包名</code>安装全局依赖。（一般不会把所有依赖直接下载到全局依赖文件夹中，都是根据项目需求在项目所在文件夹中下载依赖，实在是需要所有项目共用的依赖才下载到全局依赖里）</li>
<li>使用 <code>npm install</code>按照已有的配置信息安装所缺少的依赖。（上传项目文件时，我们一般不会将所需要的组件全部上传，这会占用很多空间，一般是上传配置文件，然后根据配置文件再去下载相对应所需要的组件）</li>
<li>使用 <code>npm uninstall</code> 包名 卸载依赖。</li>
<li>使用 <code>npm ls</code> 查看当前项目有哪些依赖。</li>
<li>使用 <code>npm ls -g</code> 查看全局依赖。</li>
<li><strong>使用 <code>npm run script字段</code>命令可以让运行记录在 <code>package.json</code>文件中 <code>script</code> 字段的命令内容。</strong></li>
</ul>
<p>在 VsCode 中，使用终端窗口 <code>cd 项目名</code> 进入所对应的项目文件夹后，就可以直接在终端窗口使用上述 npm 命令（如果报错，可以以管理员身份启动 VsCode）。</p>
<h2 id="ECMA6Script"><a href="#ECMA6Script" class="headerlink" title="ECMA6Script"></a>ECMA6Script</h2><blockquote>
<p>ECMA6Script，简称ES6，是 JavaScript 语言的一次重大更新。ES6 带来了大量的新特性，包括<strong>箭头函数、模板字符串、let 和 const 关键字、结构、默认参数值、模块系统</strong>等等，大大提升了 JavaScript 的开发体验。由于 VUE3 中大量使用了 ES6 的语法，所以 ES6 成为了学习 VUE3 的门槛之一。</p>
</blockquote>
<h3 id="变量和模板字符串"><a href="#变量和模板字符串" class="headerlink" title="变量和模板字符串"></a>变量和模板字符串</h3><p>ES6 新增了 <code>let</code> 和 <code>const</code>用来声明变量，使用的细节上也存在诸多差异。</p>
<ul>
<li>let 不能重复声明。</li>
<li>let 有块级作用域，非函数的花括号遇见 let 会有块级作用域，也就是说只能在花括号里面访问。</li>
<li>let 不会预解析进行变量提升。</li>
<li>let 定义的全局变量不会作为 windows 属性。</li>
<li>const 就是不可修改的 let，类似于 final 修饰的变量。</li>
</ul>
<pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>width=device-width, initial-scale=1.0<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>let and const<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
        <span class="token comment">//let不能重复声明</span>
        <span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token string">"string"</span><span class="token punctuation">;</span>   <span class="token comment">//可以重复声明</span>

        <span class="token keyword">let</span> j <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
        <span class="token comment">//let j = "zhansan";    无法重复声明</span>


        <span class="token comment">//let有块级作用域，非函数的花括号遇见let会有块级作用域，也就是说只能在花括号里面访问</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">var</span> k <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>
            <span class="token keyword">let</span> l <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>k<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//var可以在花括号外面访问</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>l<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//let无法在花括号外面访问</span>


        <span class="token comment">//let不会预解析进行变量提升</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//undefined</span>
        <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>  

        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//error</span>
        <span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>


        <span class="token comment">//let定义的全局变量不会作为windows属性</span>
        <span class="token keyword">var</span> c <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span> <span class="token comment">//c会变成window对象的属性</span>
        <span class="token keyword">let</span> d <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span> <span class="token comment">//d不会变成window对象的属性</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>d<span class="token punctuation">)</span><span class="token punctuation">;</span>


        <span class="token comment">//const就是不可修改的let    类似于final修饰的变量</span>
        <span class="token keyword">const</span> e <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
        e <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span> <span class="token comment">//不允许</span>

        <span class="token keyword">const</span> teachers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"张老师"</span><span class="token punctuation">,</span> <span class="token string">"李老师"</span><span class="token punctuation">,</span> <span class="token string">"王老师"</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token comment">//const内容不可以修改，但是数组比较特殊，可以利用push增加数据</span>
        <span class="token comment">//换句话讲，对于数组，只要保证指针的指向不变，指针指向的值是可以改变的</span>
        teachers<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">"陈老师"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>模板字符串主要解决字符串换行和字符串拼接的问题。</p>
<pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>width=device-width, initial-scale=1.0<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>let and const<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
        <span class="token comment">/* 
            js中传统的""和''对于字符串换行和拼接比较繁琐
            模板字符串可以比较方便地解决上述问题
        */</span>

        <span class="token comment">//传统多行写法</span>
        <span class="token keyword">let</span> info <span class="token operator">=</span> <span class="token string">"&lt;ul&gt;"</span> <span class="token operator">+</span> 
                       <span class="token string">"&lt;li&gt;&lt;/li&gt;"</span> <span class="token operator">+</span> 
                       <span class="token string">"&lt;li&gt;&lt;/li&gt;"</span> <span class="token operator">+</span>
                   <span class="token string">"&lt;/ul&gt;"</span><span class="token punctuation">;</span>


        <span class="token keyword">var</span> city <span class="token operator">=</span> <span class="token string">"北京"</span><span class="token punctuation">;</span>
        <span class="token comment">//使用模板字符串，利用``来表示字符串，利用${}进行变量的拼接</span>
        <span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;ul&gt;
                       &lt;li&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>city<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/li&gt;
                       &lt;li&gt;&lt;/li&gt;
                   &lt;/ul&gt;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="解构表达式"><a href="#解构表达式" class="headerlink" title="解构表达式"></a>解构表达式</h3><p>ES6 的解构表达式是一种方便的语法，可以快速将数组或对象中的值差分并赋值给变量。解构赋值的语法使用花括号<code>{}</code>表示对象，方括号<code>[]</code>表示数组。通过解构赋值，函数更方便进行参数接受等。</p>
<pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>width=device-width, initial-scale=1.0<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>解构表达式<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
        <span class="token comment">//传统的数组声明和取元素</span>
        <span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">,</span> <span class="token number">33</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//使用解构表达式取出数组中的元素</span>
        <span class="token keyword">let</span> <span class="token punctuation">[</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">,</span> d<span class="token punctuation">,</span> e <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">,</span> d<span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">;</span>



        <span class="token comment">//传统的对象声明和取属性</span>
        <span class="token keyword">let</span> person <span class="token operator">=</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">"zhangsan"</span><span class="token punctuation">,</span>
            <span class="token literal-property property">age</span><span class="token operator">:</span><span class="token number">18</span>
        <span class="token punctuation">}</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span>name<span class="token punctuation">,</span> person<span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//使用解构表达式获取对象的属性值</span>
        <span class="token keyword">let</span> <span class="token punctuation">{</span>name<span class="token punctuation">,</span> age<span class="token punctuation">}</span> <span class="token operator">=</span> person<span class="token punctuation">;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>age<span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>

        

        <span class="token comment">//传统的方法声明和取出元素</span>
        <span class="token keyword">function</span> <span class="token function">showArr</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> arr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> arr<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">//解构表达式应用在方法的参数列表</span>
        <span class="token keyword">function</span> <span class="token function">showArr1</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">[</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>   
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="链判断"><a href="#链判断" class="headerlink" title="链判断"></a>链判断</h3><p>如果读取对象内部的某个属性，往往需要判断一下，属性的上层对象是否存在。比如，读取<code>message.body.user.firstName</code>（message 可能是后端返回出来的一个 json 数据）这个属性，安全的写法如下：</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">let</span> message <span class="token operator">=</span> <span class="token keyword">null</span>

<span class="token comment">// 在读数据的时候需要判空</span>
<span class="token keyword">let</span> content <span class="token operator">=</span> <span class="token punctuation">(</span>message <span class="token operator">&amp;&amp;</span>
               message<span class="token punctuation">.</span>body <span class="token operator">&amp;&amp;</span>
               message<span class="token punctuation">.</span>body<span class="token punctuation">.</span>user <span class="token operator">&amp;&amp;</span> 
               message<span class="token punctuation">.</span>body<span class="token punctuation">.</span>user<span class="token punctuation">.</span>firstName<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token string">'default'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>content<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>上述通过各种层级的判空进行空值防护，但是在 ES6 中，可以使用链判断来简化上述代码：</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// 使用？进行空判断，如果前面的链判断为空，使用或运算赋值默认值</span>
<span class="token keyword">let</span> content <span class="token operator">=</span> message<span class="token operator">?.</span>body<span class="token operator">?.</span>user<span class="token operator">?.</span>firstName <span class="token operator">||</span> <span class="token string">'default'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>content<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<h3 id="箭头函数"><a href="#箭头函数" class="headerlink" title="箭头函数"></a>箭头函数</h3><p>语法类似于 Java 中的 Lambda 表达式。</p>
<p>基本语法如下：</p>
<pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>width=device-width, initial-scale=1.0<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>箭头函数<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
        <span class="token comment">//传统函数声明</span>
        <span class="token keyword">let</span> <span class="token function-variable function">fun1</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
        <span class="token comment">//箭头函数声明</span>
        <span class="token keyword">let</span> <span class="token function-variable function">fun2</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

        <span class="token comment">//如果参数里面有且仅有一个参数，小括号可以省略不写</span>
        <span class="token keyword">let</span> <span class="token function-variable function">fun3</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> x <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
        <span class="token keyword">let</span> <span class="token function-variable function">fun4</span> <span class="token operator">=</span> <span class="token parameter">x</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> x <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

        <span class="token comment">//如果方法体中只有一行代码，方法体花括号可以不写</span>
        <span class="token keyword">let</span> <span class="token function-variable function">fun5</span> <span class="token operator">=</span> <span class="token parameter">x</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
        <span class="token keyword">let</span> <span class="token function-variable function">fun6</span> <span class="token operator">=</span> <span class="token parameter">x</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//方法体中，有且仅有一行return代码，那么{}和return都可以省略不写</span>
        <span class="token keyword">let</span> <span class="token function-variable function">fun7</span> <span class="token operator">=</span> <span class="token parameter">x</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> x <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
        <span class="token keyword">let</span> <span class="token function-variable function">fun8</span> <span class="token operator">=</span> <span class="token parameter">x</span> <span class="token operator">=&gt;</span> x <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>箭头函数中的 <code>this</code>关键字问题：</p>
<pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>width=device-width, initial-scale=1.0<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>箭头函数<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">

        <span class="token comment">/* 
            箭头函数没有自己的this
            箭头函数的this是外层上下文环境中的this
        */</span>

        <span class="token keyword">var</span> name <span class="token operator">=</span> <span class="token string">"lisi"</span><span class="token punctuation">;</span>

        <span class="token keyword">let</span> person <span class="token operator">=</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">"zhangsan"</span><span class="token punctuation">,</span>
            <span class="token function-variable function">showName</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> 
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token function-variable function">viewName</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span>  
            <span class="token comment">/* 
                对于箭头函数viewName
                当中的this指的是外层上下文环境中的this
                其外层上下文环境是window对象
                故this.name指的是window对象当中的name
            */</span>
        <span class="token punctuation">}</span>
        person<span class="token punctuation">.</span><span class="token function">showName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//zhansan</span>
        person<span class="token punctuation">.</span><span class="token function">viewName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//lisi</span>

    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="rest-和-spread"><a href="#rest-和-spread" class="headerlink" title="rest 和 spread"></a>rest 和 spread</h3><p>rest 参数，在形参上和 Java 中的可变参数几乎一样。</p>
<pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>width=device-width, initial-scale=1.0<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>rest and spread<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">

        <span class="token comment">//rest参数(类似于Java中的可变参数)</span>
        <span class="token keyword">let</span> <span class="token function-variable function">fun1</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>

        <span class="token function">fun1</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


        <span class="token comment">//spread是rest在实参上的使用</span>
        <span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">let</span> <span class="token function-variable function">fun2</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">)</span><span class="token punctuation">;</span>   
        <span class="token function">fun2</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//直接填入参数，会默认给第一个参数赋值:[1, 2, 3] undefined undefined</span>
        <span class="token function">fun2</span><span class="token punctuation">(</span><span class="token operator">...</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//填入rest，会把arr中的数据分配给参数列表中的参数: 1 2 3</span>

        <span class="token comment">//快速合并数组</span>
        <span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">let</span> c <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">let</span> d <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>a<span class="token punctuation">,</span> <span class="token operator">...</span>b<span class="token punctuation">,</span> <span class="token operator">...</span>c<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">//let d = [1, 2, 3, 4, 5, 6, 7, 8, 9];</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//快速合并对象</span>
        <span class="token keyword">let</span> person1 <span class="token operator">=</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">"zhangsan"</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">let</span> person2 <span class="token operator">=</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">age</span><span class="token operator">:</span><span class="token number">18</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">let</span> person3 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token operator">...</span>person1<span class="token punctuation">,</span> <span class="token operator">...</span>person2<span class="token punctuation">}</span><span class="token punctuation">;</span>

    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="对象的创建"><a href="#对象的创建" class="headerlink" title="对象的创建"></a>对象的创建</h3><p>ES6 新增了对象创建的语法糖，支持了 class、extends、constructor 等关键字，让 ES6 的语法和面向对象的语法更加接近。</p>
<pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>width=device-width, initial-scale=1.0<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>类和对象<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">

        <span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>

            <span class="token comment">//属性(加上#号可以将变量变为私有，并且#也作为变量名的一部分)</span>
            #name<span class="token punctuation">;</span>
            #age<span class="token punctuation">;</span>

            <span class="token comment">//构造器</span>
            <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>#name <span class="token operator">=</span> name<span class="token punctuation">;</span>  <span class="token comment">//注意带上#，否则会多创建一个name出来</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>#age <span class="token operator">=</span> age<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            <span class="token comment">//getter setter</span>
            <span class="token keyword">get</span> <span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>#name<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">set</span> <span class="token function">name</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>#name <span class="token operator">=</span> name<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            <span class="token keyword">get</span> <span class="token function">age</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>#age<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">set</span> <span class="token function">age</span><span class="token punctuation">(</span><span class="token parameter">age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>#age <span class="token operator">=</span> age<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            <span class="token comment">//成员方法</span>
            <span class="token function">eat</span><span class="token punctuation">(</span><span class="token parameter">food</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>#age<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">岁的</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>#name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">正在吃</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>food<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token comment">//静态方法</span>
            <span class="token keyword">static</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">return</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

        <span class="token punctuation">}</span>

        <span class="token keyword">let</span> person <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">"zhangsan"</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span><span class="token punctuation">;</span>

        person<span class="token punctuation">.</span><span class="token function">eat</span><span class="token punctuation">(</span><span class="token string">"火锅"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Person<span class="token punctuation">.</span><span class="token function">sum</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//这个时候无法访问</span>

        <span class="token keyword">class</span> <span class="token class-name">Student</span> <span class="token keyword">extends</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>  <span class="token comment">//继承</span>
            score<span class="token punctuation">;</span>
            <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> score</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">super</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//super可以调用父类的构造</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>score <span class="token operator">=</span> score<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token function">study</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>age<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">岁的</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">正在学习，考了</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>score<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">分</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        
        <span class="token keyword">let</span> stu <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token string">"lisi"</span><span class="token punctuation">,</span> <span class="token number">19</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        stu<span class="token punctuation">.</span><span class="token function">study</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="对象的拷贝"><a href="#对象的拷贝" class="headerlink" title="对象的拷贝"></a>对象的拷贝</h3><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>width=device-width, initial-scale=1.0<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>拷贝问题<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
        <span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">let</span> person <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">"zhangsan"</span><span class="token punctuation">,</span> <span class="token literal-property property">age</span><span class="token operator">:</span><span class="token number">18</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token comment">//浅拷贝</span>
        <span class="token keyword">let</span> arr2 <span class="token operator">=</span> arr<span class="token punctuation">;</span>
        <span class="token keyword">let</span> person2 <span class="token operator">=</span> person<span class="token punctuation">;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr2<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//1 2 3</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person2<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//age = 18</span>

        arr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
        person2<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">19</span><span class="token punctuation">;</span>
        <span class="token comment">//只拷贝了地址，并没有真正拷贝内容，arr的改变也会导致arr2的改变</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr2<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//1 3 3</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person2<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//age = 19</span>


        <span class="token comment">//深拷贝</span>
        <span class="token keyword">let</span> arr3 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>arr<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">let</span> person3 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token operator">...</span>person<span class="token punctuation">}</span><span class="token punctuation">;</span>

        <span class="token comment">//如果是对象，深拷贝可以考虑json转换</span>
        <span class="token keyword">let</span> person4 <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="模块化处理"><a href="#模块化处理" class="headerlink" title="模块化处理"></a>模块化处理</h3><blockquote>
<p>模块化是一种组织和管理前端代码的方式，将代码拆分成小的模块单元，使得代码更易于维护、扩展和复用。它包括了定义、导出、导入以及管理模块的方法和规范。</p>
</blockquote>
<p>ES6 模块化的几种暴露和导入方式：</p>
<ol>
<li>分别导出。</li>
<li>统一导出。</li>
<li>默认导出。</li>
</ol>
<p>无论是哪种方式导出，导出的都是一个对象，导出的内容都可以理解为是向这个对象中添加属性或者方法。此外，当 html 文件在导入 js 文件时，需要引入 <code>type="module"</code>使得浏览器可以支持模块化解析。</p>
<p>三种导出语法可以混用，但是考虑到混用后难以区分语法，故一般我们还是尽可能只用一种导出方式。</p>
<h4 id="分别导出"><a href="#分别导出" class="headerlink" title="分别导出"></a>分别导出</h4><p><code>module.js</code> 文件如下：</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">//使用export关键字将变量或者方法导出</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token constant">PI</span> <span class="token operator">=</span> <span class="token number">3.14</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token constant">PI2</span> <span class="token operator">=</span> <span class="token number">3.14</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">sum</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">hello, my name is </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">, I'm </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>age<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> years old.</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><code>app.js</code> 文件如下：</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">//导入module.js文件</span>
<span class="token comment">/* 
    * 表示module.js中的所有成员
    无论何种方式导入，导入的内容都会被当成一个对象来处理
    故我们应该使用一个对象来接收
    相对路径中的./不能少
    使用as来给对象起别名
*/</span>
<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> m1 <span class="token keyword">from</span> <span class="token string">'./module.js'</span>   

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>m1<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>m1<span class="token punctuation">.</span><span class="token constant">PI2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//没有export，故PI2的访问结果是undefined</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>m1<span class="token punctuation">.</span><span class="token function">sum</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> person <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">m1<span class="token punctuation">.</span>Person</span><span class="token punctuation">(</span><span class="token string">"zhangsan"</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
person<span class="token punctuation">.</span><span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><code>index.html</code> 文件如下：</p>
<pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>width=device-width, initial-scale=1.0<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>index<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 引入app.js文件，使用type关键字让浏览器支持模块化组件解析 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>./app.js<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>module<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="统一导出"><a href="#统一导出" class="headerlink" title="统一导出"></a>统一导出</h4><p><code>module.js</code> 文件如下：</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> <span class="token constant">PI</span> <span class="token operator">=</span> <span class="token number">3.14</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token constant">PI2</span> <span class="token operator">=</span> <span class="token number">3.14</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">sum</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">hello, my name is </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">, I'm </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>age<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> years old.</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">//最末尾利用export关键字统一暴露</span>
<span class="token keyword">export</span> <span class="token punctuation">{</span><span class="token constant">PI</span><span class="token punctuation">,</span> sum<span class="token punctuation">,</span> Person<span class="token punctuation">}</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><code>app.js</code> 文件如下：</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">//利用解构表达式导入</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span><span class="token constant">PI</span> <span class="token keyword">as</span> pi<span class="token punctuation">,</span> sum<span class="token punctuation">,</span> Person<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./module.js'</span>

<span class="token comment">//使用的时候就无需用对象调用</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pi<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//利用as关键字起别名</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">sum</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> person <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">"zhangsan"</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
person<span class="token punctuation">.</span><span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><code>index.html</code> 文件同上。</p>
<h4 id="默认导出"><a href="#默认导出" class="headerlink" title="默认导出"></a>默认导出</h4><p><code>module.js</code> 文件如下：</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> <span class="token constant">PI</span> <span class="token operator">=</span> <span class="token number">3.14</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token constant">PI2</span> <span class="token operator">=</span> <span class="token number">3.14</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">sum</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">hello, my name is </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">, I'm </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>age<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> years old.</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">//默认导出，在一个js中只能有一个默认导出</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> sum<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><code>app.js</code> 文件如下：</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">//利用解构表达式导入</span>
<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> m1 <span class="token keyword">from</span> <span class="token string">'./module.js'</span>

<span class="token comment">//默认导出，使用default关键字调用</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>m1<span class="token punctuation">.</span><span class="token function">default</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 

<span class="token comment">//或者使用别名的方式导入也可以</span>
<span class="token comment">//别名关键字导入</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span><span class="token keyword">default</span> <span class="token keyword">as</span> add<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./module.js'</span>
<span class="token comment">//别名省略关键字导入</span>
<span class="token keyword">import</span> add <span class="token keyword">from</span> <span class="token string">'./module.js'</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><code>index.html</code> 文件同上。</p>
<h2 id="Vue3-简介"><a href="#Vue3-简介" class="headerlink" title="Vue3 简介"></a>Vue3 简介</h2><blockquote>
<p>Vue （作者：尤雨溪）是一款构建用户界面的 JavaScript 框架。它基于 HTML、CSS 和 JavaScript 构建，并提供了一套声明式的、组件化的编程模型，帮助你高效地开发用户界面。无论是简单还是复杂的界面，Vue 都可以胜任。官网<a target="_blank" rel="noopener" href="https://cn.vuejs.org/">戳我</a>。</p>
</blockquote>
<p>Vue 的两个核心功能：</p>
<ul>
<li>声明式渲染：Vue 基于标准 HTML 拓展了一套模板语法，使得我们可以<strong>声明式</strong>地描述最终输出的 HTML 和 JavaScript 状态之间的关系。</li>
<li>响应性：Vue 会自动跟踪 JavaScript 状态并在其发生变化时响应式地更新 DOM。</li>
</ul>
<p>使用 Vue 的基础思路是：数据发生改变时，数据所绑定的位置对应的 DOM 树内容自动发生改变。</p>
<h3 id="Vite"><a href="#Vite" class="headerlink" title="Vite"></a>Vite</h3><p>Vite 可以帮助我们生成一个基础的工程化的 VUE3 项目，而且还给我们提供了其他支撑文件，帮助我们进行项目管理。</p>
<p>使用 Vite 创建工程化前端项目：</p>
<ol>
<li>在 VsCode 中运行 <code>npm create vite</code>给项目创建 Vite 环境。</li>
<li>进入创建之后的项目（使用 <code>cd 项目名</code> 命令进入），使用 <code>npm install</code> 给项目下载缺少的依赖。</li>
<li>使用 <code>npm run dev</code> 进入研发模式运行。</li>
</ol>
<h3 id="Vite-Vue3-项目的目录结构"><a href="#Vite-Vue3-项目的目录结构" class="headerlink" title="Vite + Vue3 项目的目录结构"></a>Vite + Vue3 项目的目录结构</h3><p>.vscode：使用 VsCode 开发时的相关驱动。</p>
<p>node_modules：存放依赖的目录。</p>
<p>public：存放公共资源，如 HTML 文件、图象、字体等，这些资源会被直接赋值到构建出的目标目录中。<strong>可以直接通过网页访问到</strong>。</p>
<p>src：存放项目的源代码，包括 JavaScript、CSS、Vue 组件、图像和字体等资源。在开发过程中，这些文件会被 Vite 实时编译和处理，并在浏览器中进行实时预览和调试。以下是 src 内部的子文件：</p>
<ol>
<li>assets：存放静态资源，如图片、字体、样式文件等。</li>
<li>components：用于存放组件相关的文件，用于抽象出可以复用的 UI 部件，方便在不同场景中使用。</li>
<li>layouts：用于存放布局组件的文件，通常负责整个应用程序的整体布局，如头部、底部、导航菜单等。</li>
<li>pages：用于存放页面界别的组件文件。</li>
<li>plugins：用于存放 Vite 相关插件。</li>
<li>router：用于存放路由配置文件，负责管理视图和 URL 之间的映射关系，方便实现页面之间的跳转和数据传递。</li>
<li>store：用于存放 Vuex 状态管理相关文件。</li>
<li>utils：用于存放一些通用的工具函数，如日期处理函数，字符串操作函数等。</li>
</ol>
<p>vite.config.js 文件：Vite 的配置文件，可以通过该文件配置项目的参数、插件、打包优化等。</p>
<p>package.json 文件：标准的 Node.js 项目配置文件，包含了项目的基本信息和依赖关系。</p>
<p>Vite 项目的入口为 src / main.js 文件，这是 Vue.js 应用程序的启动文件，也是整个前端应用程序的入口文件。</p>
<p>在 vite.config.js 中可以配置端口号：</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">import</span> <span class="token punctuation">{</span> defineConfig <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vite'</span>
<span class="token keyword">import</span> vue <span class="token keyword">from</span> <span class="token string">'@vitejs/plugin-vue'</span>

<span class="token comment">// https://vitejs.dev/config/</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function">vue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token comment">// server:{</span>
  <span class="token comment">//   port:3000</span>
  <span class="token comment">// }</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="Vite-Vue3-项目组件（SFC-入门）"><a href="#Vite-Vue3-项目组件（SFC-入门）" class="headerlink" title="Vite + Vue3 项目组件（SFC 入门）"></a>Vite + Vue3 项目组件（SFC 入门）</h3><p>多个页面相同的地方，我们可以单独拿出来，形成一个“组件”，以提高代码的复用性。一旦我们需要使用相关组件，我们便可以直接引入，不需要再去重新写代码了。</p>
<p>一个组件的开发传统上需要使用 HTML、CSS、JS 三种代码，意味着有三种文件需要维护。当然，把 CSS、JS 全部塞入一个 HTML 文件中也是可以。但是可想而知，以上两种方法都会导致文件的维护困难。而 VUE3 框架中通过 .vue 文件来管理组件，使得管理维护更加方便。而这种管理组件形式也被称作单文件组件（Single-File Component，简称 SFC）。</p>
<p>接下来我们探讨 Vue 工程文件之间的关系。</p>
<p><code>index.html</code> 文件如下，这是基础的页面：</p>
<pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">doctype</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>icon<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>image/svg+xml<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/vite.svg<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>width=device-width, initial-scale=1.0<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Vite + Vue<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span> <span class="token comment">&lt;!-- main.js的内容会挂载到这个div里 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>module<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/src/main.js<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>可以看到，这个页面在 <code>script</code> 标签中导入了另一个文件 <code>main.js</code> ：</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">//从框架中导入一个createApp的函数</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> createApp <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token comment">//导入全局css样式文件，该文件中的样式会作用到所有的.vue元素上</span>
<span class="token keyword">import</span> <span class="token string">'./style.css'</span>
<span class="token comment">//导入了一个App.vue的文件，并起了一个别名叫App</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">'./App.vue'</span>

<span class="token comment">//let app = createApp(App)    使用导入的app组件生成一个对象</span>
<span class="token comment">//app.mount('#app') 将app对象挂载到id值为app的元素上</span>
<span class="token function">createApp</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">mount</span><span class="token punctuation">(</span><span class="token string">'#app'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>而当中的 <code>App.vue</code> 文件便是我们上述所讲的单文件组件，所以，相当于在 js 文件中导入组件的文件，然后用这个文件创建一个组件对象，最后再让这个组件对象作用到我们想要作用的页面元素上去。</p>
<p><code>App.vue</code> 框架如下：</p>
<pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;!-- .vue文件把三种代码结合到一起，放入一个文件中 --&gt;

&lt;script setup&gt;
&lt;!-- 引入js代码 --&gt;
&lt;/script&gt;

&lt;template&gt;
&lt;!-- 引入html代码 --&gt;
&lt;/template&gt;

&lt;style scoped&gt;
/* 引入css代码 */
&lt;/style&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>语法上，要求 <code>template</code> 标签中只能有一个一级子标签，虽然不遵循这个语法也可以正常工作，但是为了规范还是建议在多个标签需要使用时，外层加上一个 <code>div</code> 标签包裹，保证只有一个一级子标签。</p>
<p>值得注意的是，组件文件当中也可以引入其他组件文件，当这么处理的时候，引入外部组件文件时起的别名可以直接当作标签来使用。</p>
<h2 id="Vue3-的视图渲染技术"><a href="#Vue3-的视图渲染技术" class="headerlink" title="Vue3 的视图渲染技术"></a>Vue3 的视图渲染技术</h2><h3 id="Vue3-关于-CSS-样式的导入"><a href="#Vue3-关于-CSS-样式的导入" class="headerlink" title="Vue3 关于 CSS 样式的导入"></a>Vue3 关于 CSS 样式的导入</h3><pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;script setup&gt;
/* 
  css样式在.vue文件中的导入方式
    1.写在.vue文件中的style标签中
    2.将css样式保存到独立的css文件中，哪个文件需要就在哪里导入即可
      可以在script标签中导入 语法：import 相对路径
      也可以在style标签中导入 语法：@import 相对路径
    3.如果某个样式要在所有的.vue文件中生效，可以在main.js中导入        
*/
import "./style/test.css"
&lt;/script&gt;

&lt;template&gt;
  &lt;div&gt;
    &lt;span class="s1"&gt;你好&lt;/span&gt;&lt;br&gt;
    &lt;span class="s2"&gt;hello&lt;/span&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;style scoped&gt;
.s1 {
  color:rgb(59, 129, 190);
  font-size:40px;
}
/* @import './style.css/test.css' */
&lt;/style&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="响应式数据和-setup-语法糖"><a href="#响应式数据和-setup-语法糖" class="headerlink" title="响应式数据和 setup 语法糖"></a>响应式数据和 setup 语法糖</h3><pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;script setup&gt;  //使用setup可以不需写其他冗余setup操作
/* 
  响应式数据：在数据变化时，vue框架会将变量最新的值更新到dom树中，页面的数据就是实时更新的
  非响应式数据：在数据变化时，vue框架不会将数据更新到dom树中，页面的数据就不会更新

  在vue2框架中，数据不做特殊处理，默认就是响应式的
  在vue3框架中，数据要经过ref/reactive函数处理，才是响应式的
    ref/reactive函数是vue框架中给我们提供的方法，导入进来即可使用

  ref处理的响应式数据在操作时需要注意
    在script标签中操作ref的响应式数据需要通过.value的形式操作
    在template标签中操作ref响应式数据无需使用.value操作
*/
  import {ref, reactive} from 'vue'

  //定义一些要展示到html上的一些数据  变量/对象
  let counter = ref(10) //ref(10) 返回一个对象，其中value属性为10

  //让变量自增的方法
  function counterIncr() {
    ++counter.value
  }

  //让变量自减的方法
  function counterDecr() {
    --counter.value
  }

&lt;/script&gt;


&lt;template&gt;
&lt;div&gt;
  &lt;button @click="counterIncr"&gt;+&lt;/button&gt;
  &lt;span v-text="counter"&gt;&lt;/span&gt;
  &lt;button @click="counterDecr"&gt;-&lt;/button&gt;
&lt;/div&gt;
&lt;/template&gt;


&lt;style scoped&gt;
&lt;/style&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="插值表达式"><a href="#插值表达式" class="headerlink" title="插值表达式"></a>插值表达式</h3><pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;!-- 
  插值表达式：将变量关联到元素上的一种比较方便的语法
  语法：{{ 数据名字/函数/对象调用API }}
    插值表达式不依赖标签，没有标签时是可以单独使用的
    插值表达式是可以调用函数的，将函数的返回值渲染到指定位置
    插值表达式是支持一些常见的运算符
    插值表达式中还支持对象调用API
--&gt;
&lt;script setup&gt;
  //定义一些常见数据
  let msg = "hello vue3"

  let getMsg = () =&gt; {
    return "hello vue3"
  }

  let age = 19

  let bee = "蜜 蜂"
&lt;/script&gt;

&lt;template&gt;
&lt;div&gt;
  &lt;!-- 将数据绑定到下面的元素上展示 --&gt;
  &lt;!-- 将msg放入到h1标签中展示 --&gt;
  &lt;h1&gt;{{ msg }}&lt;/h1&gt;&lt;br&gt;

  &lt;!-- 插值表达式调用函数 --&gt;
  msg 的值为 {{ getMsg() }}&lt;br&gt;

  &lt;!-- 插值表达式使用运算符 --&gt;
  年龄:{{ age }}, 是否成年: {{ age &gt; 18 ? "是":"否" }}&lt;br&gt;

  &lt;!-- 插值表达式支持对象调用API --&gt;
  {{ bee.split(" ").reverse().toString().replace(",", " ") }}
&lt;/div&gt;
&lt;/template&gt;

&lt;style scoped&gt;
&lt;/style&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="文本渲染命令"><a href="#文本渲染命令" class="headerlink" title="文本渲染命令"></a>文本渲染命令</h3><pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;script setup&gt;
/* 
  v-text  不能将html结构的文本进行识别
  v-html  可以识别html结构的文本

  {{   }} 插值表达式
  v-*** vue指令

  命令必须依赖标签，在开始标签中使用  
*/

  let msg = "hello vue3"
  
  let haha = "哈哈"
  let msg2 = `hello${haha}`

  let age = 19

  let bee = "蜜 蜂"

  function getMsg() {
    return msg
  }

  let fontMsg = '&lt;font color="red"&gt;你好&lt;/font&gt;'

&lt;/script&gt;

&lt;template&gt;
&lt;div&gt;
  &lt;h1 v-text="msg"&gt;&lt;/h1&gt;

  &lt;!-- vue指令支持模板字符串 --&gt;
  &lt;h1 v-text="msg2"&gt;&lt;/h1&gt;
  &lt;h1 v-text="`hello ${msg2}`"&gt;&lt;/h1&gt;

  &lt;!-- 命令中也支持一些常见的运算符 --&gt;
  &lt;h1 v-text="age &gt;= 18 ? `成年`: `未成年`"&gt;&lt;/h1&gt;

  &lt;!-- 命令中也支持一些API调用 --&gt;
  &lt;h1 v-text="bee.split(' ').reverse().join(' ')"&gt;&lt;/h1&gt;

  &lt;!-- 命令中也支持函数的调用 --&gt;
  &lt;h1 v-text="getMsg()"&gt;&lt;/h1&gt;

  &lt;!-- v-text无法识别html结构文本 --&gt;
  &lt;h1 v-text="fontMsg"&gt;&lt;/h1&gt;
  &lt;h1 v-html="fontMsg"&gt;&lt;/h1&gt;
&lt;/div&gt;
&lt;/template&gt;

&lt;style scoped&gt;
&lt;/style&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="属性渲染命令"><a href="#属性渲染命令" class="headerlink" title="属性渲染命令"></a>属性渲染命令</h3><pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;script setup&gt;
/* 
  属性渲染命令
  v-bind 将数据绑定到元素的属性上
  v-bind:属性名="数据名"
  可以将v-bind省略不写
*/

  let imgUrl = "https://github.com/n70huihui/Blog_Photo/blob/main/Elieen.png"

  const data = {
    logo:"https://github.com/n70huihui/Blog_Photo/blob/main/Elieen.png",
    name:"Elieen",
    url:"https://space.bilibili.com/672342685?spm_id_from=333.999.0.0"
  }
&lt;/script&gt;

&lt;template&gt;
&lt;div&gt;
  &lt;a v-bind:href="data.url"&gt;
    &lt;img v-bind:src="imgUrl" v-bind:title="data.name"&gt;
  &lt;/a&gt;

  &lt;!-- 属性渲染的简写形式 --&gt;
  &lt;img :src="data.logo"&gt;
&lt;/div&gt;
&lt;/template&gt;

&lt;style scoped&gt;
&lt;/style&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="事件渲染命令"><a href="#事件渲染命令" class="headerlink" title="事件渲染命令"></a>事件渲染命令</h3><pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;script setup&gt;
/* 
  v-on:事件名称="函数名()"
  可以简写为
  @事件名="函数名"

  原生js的事件名是on***形式的 onclick ondbclick onblur onfocuse
  vue中的事件名在原生js的基础上去掉on
*/
  import {ref} from 'vue'

  function fun1() {
    alert("hi")
  }

  let counter = ref(1)
  function fun2() {
    counter.value++
  }

  function fun3(event) {
    let flag = confirm("确定要访问目标链接吗")
    if(!flag) {
      //原生js阻止组件的默认行为
      event.preventDefault()
    }
  }

  function fun4() {
    alert("超链接被点击了")
  }
&lt;/script&gt;

&lt;template&gt;
&lt;div&gt;
  &lt;!-- 事件的绑定 --&gt;
  &lt;button v-on:click="fun1()"&gt;hello&lt;/button&gt;&lt;br&gt;

  &lt;!-- 内联事件处理器 --&gt;
  &lt;button v-on:click="fun2()"&gt;+&lt;/button&gt;
  &lt;button v-on:click="counter++"&gt;+&lt;/button&gt; &lt;!-- 这里不需要加.value --&gt;
  {{ counter }}

  &lt;!-- 事件的修饰符 .once事件只绑定一次，意味着这个事件只会触发一次 --&gt;
  &lt;button v-on:click.once="counter++"&gt;+&lt;/button&gt;&lt;br&gt;

  &lt;!-- prevent修饰符，阻止组件的默认行为 --&gt;
  &lt;a href="https://blog.hnuxcc21.cn/" v-on:click="fun3($event)" target="_blank"&gt;热心市民灰灰&lt;/a&gt;&lt;br&gt;
  &lt;a href="https://blog.hnuxcc21.cn/" v-on:click.prevent="fun4()" target="_blank"&gt;热心市民灰灰&lt;/a&gt;

&lt;/div&gt;
&lt;/template&gt;

&lt;style scoped&gt;

&lt;/style&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="响应式数据的处理方式"><a href="#响应式数据的处理方式" class="headerlink" title="响应式数据的处理方式"></a>响应式数据的处理方式</h3><pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;script setup&gt;
  /* 
    让一个数据转换成响应式数据的方式有两种
      1.ref函数 适合单个变量
        在script标签中操作数值，需要使用.value
        如果在template标签中，则不需要
      2.reactive函数  适合对象
        无论是在哪个标签中，都直接使用对象名.属性名对属性进行操作即可

    拓展：
      toRef函数 将reactive响应式数据中的某个属性转换为ref响应式数据
      toRefs函数  同时将reactive响应式数据中的多个属性转换为ref响应式数据
    
  */
  import { ref, reactive } from 'vue'

  //ref处理单个值
  let counter = ref(10)

  function incr() {
    counter.value++
  }

  //reactive处理单个对象
  let person = reactive({
    name:"zhangsan",
    age:18
  })

  function incrAge() {
    person.age++
  }
&lt;/script&gt;

&lt;template&gt;
&lt;div&gt;
  &lt;button @click="incr()"&gt;+&lt;/button&gt;
  &lt;span v-text="counter"&gt;&lt;/span&gt;
  &lt;button @click="counter--"&gt;-&lt;/button&gt;
  &lt;hr&gt;
  &lt;button @click="incrAge()"&gt;+&lt;/button&gt;
  &lt;span v-text="person.age"&gt;&lt;/span&gt;
  &lt;button @click="person.age--"&gt;-&lt;/button&gt;
&lt;/div&gt;
&lt;/template&gt;

&lt;style scoped&gt;
&lt;/style&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="条件渲染"><a href="#条件渲染" class="headerlink" title="条件渲染"></a>条件渲染</h3><pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;script setup&gt;
/* 
  v-if 使得当表达式为真时，内容才显示
  v-else 自动和前一个v-if作取反操作

  v-show  数据为true，元素则展示在页面上，否则不展示

  v-if 是通过将元素移除出dom树使得页面不展示
  v-show 是通过将元素隐藏起来使得页面不展示，元素仍在dom树中
  
  v-if有更高的切换开销，而v-show有更高的初始渲染开销
  如果需要频繁切换，建议使用v-show，如果运行时绑定条件很少改变，可以使用v-if
*/
import { ref } from 'vue'
let flag = ref(true)

&lt;/script&gt;

&lt;template&gt;
&lt;div&gt;
  &lt;h1 v-if="flag"&gt;vue is awesome!&lt;/h1&gt;
  &lt;h1 v-else&gt;oh no&lt;/h1&gt;&lt;br&gt;
  &lt;h1 v-show="flag"&gt;hahaha&lt;/h1&gt;
  &lt;button @click="flag = !flag"&gt;点我&lt;/button&gt;
&lt;/div&gt;
&lt;/template&gt;

&lt;style scoped&gt;
&lt;/style&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="列表渲染"><a href="#列表渲染" class="headerlink" title="列表渲染"></a>列表渲染</h3><pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;script setup&gt;
  /* 
    v-for 渲染列表
    语法类似于forEach，用一个li就可以渲染多个li
  */
  import { reactive, ref } from "vue";

  let items = reactive([
    {id:"item1", message:"薯片"},
    {id:"item2", message:"可乐"},
    {id:"item3", message:"炸鸡"}
  ])

  let pro = ref("产品")

&lt;/script&gt;

&lt;template&gt;
&lt;div&gt;
  &lt;ul&gt;
    &lt;li v-for="(item, index) in items" v-bind:key="index.id"&gt;{{ pro + index + item.message }}&lt;/li&gt;
  &lt;/ul&gt;
&lt;/div&gt;
&lt;/template&gt;

&lt;style scoped&gt;
&lt;/style&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="综合小练习"><a href="#综合小练习" class="headerlink" title="综合小练习"></a>综合小练习</h3><pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;script setup&gt;
  /* 
    v-for 渲染列表
  */
  import { reactive } from "vue";

  let carts = reactive([
    {name:"可乐", price:3 , number:10},
    {name:"薯片", price:6 , number:2},
    {name:"炸鸡", price:12 , number:1},
  ])

  function getCartSum() {
    let sum = 0
    for(let index in carts) {
      sum += (carts[index].price * carts[index].number)
    }
    return sum
  }

  //从购物车中移除记录
  function removeCart(index) {
    carts.splice(index, 1)
  }

  //清空购物车
  function clearCart() {
    carts.splice(0, carts.length)
  }

&lt;/script&gt;

&lt;template&gt;
&lt;div&gt;

  &lt;h1&gt;您的购物车如下:&lt;/h1&gt;
  &lt;table border="1px"&gt;
    &lt;thead&gt;
      &lt;tr&gt;
        &lt;th&gt;序号&lt;/th&gt;
        &lt;th&gt;商品名称&lt;/th&gt;
        &lt;th&gt;价格&lt;/th&gt;
        &lt;th&gt;数量&lt;/th&gt;
        &lt;th&gt;小计&lt;/th&gt;
        &lt;th&gt;操作&lt;/th&gt;
      &lt;/tr&gt;
    &lt;/thead&gt;

    &lt;tbody&gt;
      &lt;!-- 利用v-for迭代渲染列表 --&gt;
      &lt;tr v-for="(cart, index) in carts" v-bind:key="index"&gt;
        &lt;td v-text="index + 1"&gt;&lt;/td&gt;
        &lt;td v-text="cart.name"&gt;&lt;/td&gt;
        &lt;td v-text="cart.price"&gt;&lt;/td&gt;
        &lt;td v-text="cart.number"&gt;&lt;/td&gt;
        &lt;td v-text="cart.number * cart.price"&gt;&lt;/td&gt;
        &lt;!-- 调用splice函数删除数据 --&gt;
        &lt;td&gt;&lt;button @click="removeCart(index)"&gt;删除&lt;/button&gt;&lt;/td&gt;
      &lt;/tr&gt;
    &lt;/tbody&gt;
  &lt;/table&gt;
  &lt;!-- 使用条件渲染判断购物车情况 --&gt;
  &lt;div v-if="carts.length" v-text="'购物车总金额:' + getCartSum() + '元'"&gt;&lt;/div&gt;
  &lt;div v-else&gt;购物车已被清空&lt;/div&gt;
  &lt;!-- 调用splice清空购物车 --&gt;
  &lt;button @click="clearCart()"&gt;一键清空购物车&lt;/button&gt;
&lt;/div&gt;
&lt;/template&gt;

&lt;style scoped&gt;
&lt;/style&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="双向绑定"><a href="#双向绑定" class="headerlink" title="双向绑定"></a>双向绑定</h3><pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;script setup&gt;
/* 
  单向绑定v-bind  响应时数据发生变化会更新dom树 用户的操作如果造成页面内容的改变不会影响响应式数据
  双向绑定v-model  页面上的数据由于用户的操作造成了改变，也会同步修改对应的响应式数据
  双向绑定一般用于表单标签，故双向绑定也可称作收集表单信息命令
*/
  import { ref } from 'vue'

  let message = ref("zhangsan")
  let message1 = ref("lisi")

&lt;/script&gt;

&lt;template&gt;
&lt;div&gt;
  &lt;!-- 单向绑定 --&gt;
  &lt;input type="text" v-bind:value="message"&gt;&lt;br&gt;&lt;!-- 这里改变，不会影响下方message的改变 --&gt;
  {{ message }} &lt;br&gt;

  &lt;!-- 双向绑定 --&gt;
  &lt;input type="text" v-model="message1"&gt;&lt;br&gt;&lt;!-- 这里改变，下方message1同样会改变 --&gt;
  {{ message1 }}
&lt;/div&gt;
&lt;/template&gt;

&lt;style scoped&gt;
&lt;/style&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>双向绑定在不同标签上的使用：</p>
<pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;script setup&gt;
/* 
  单向绑定v-bind  响应时数据发生变化会更新dom树 用户的操作如果造成页面内容的改变不会影响响应式数据
  双向绑定v-model  页面上的数据由于用户的操作造成了改变，也会同步修改对应的响应式数据
  双向绑定一般用于表单标签，故双向绑定也可称作收集表单信息命令
*/
  import { ref, reactive } from 'vue'

  let user = reactive({
    username:"",
    userPwd:"",
    intro:"",
    origin:""
  })

  let hbs = ref([])

  function clearForm() {
    user.username = ""
    user.userPwd = ""
    user.intro = ""
    user.origin = ""
    hbs.value.splice(0, hbs.value.length)
  }
&lt;/script&gt;

&lt;template&gt;
&lt;div&gt;
  &lt;input type="text" v-model="user.username"&gt;&lt;br&gt;
  &lt;input type="password" v-model="user.userPwd"&gt;&lt;br&gt;
  爱好:
  唱 &lt;input type="checkbox" v-model="hbs" value="sing"&gt;&lt;br&gt;
  跳 &lt;input type="checkbox" v-model="hbs" value="dance"&gt;&lt;br&gt;
  rap &lt;input type="checkbox" v-model="hbs" value="rap"&gt;&lt;br&gt;
  简介:
  &lt;textarea v-model="user.intro"&gt;&lt;/textarea&gt;&lt;br&gt;
  籍贯:
  &lt;select v-model="user.origin"&gt;
    &lt;option value="北京"&gt;北京&lt;/option&gt;
    &lt;option value="南京"&gt;南京&lt;/option&gt;
    &lt;option value="西京"&gt;西京&lt;/option&gt;    
    &lt;option value="东京"&gt;东京&lt;/option&gt;    
  &lt;/select&gt;&lt;br&gt;
  &lt;button @click="clearForm()"&gt;清空&lt;/button&gt;&lt;br&gt;
  {{ user }} &lt;br&gt;
  {{ hbs }}
&lt;/div&gt;
&lt;/template&gt;

&lt;style scoped&gt;
&lt;/style&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="属性计算"><a href="#属性计算" class="headerlink" title="属性计算"></a>属性计算</h3><pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;script setup&gt;
/* 
  计算属性
    computed(填入方法，可用箭头函数形式)

  通过方法返回数据：每使用一次，都会执行一次
  通过计算属性返回数据：如果和上次使用时数据没有变化，则直接使用上一次的数据
*/

  import { reactive, computed } from "vue";

  const author = reactive({
    name:"zhangsan",
    books:[
      "java-从入门到精通",
      "算法导论",
      "MySQL从入门到精通"
    ]
  })

  let hasBooks = computed(()=&gt;{
    return author.books.length &gt; 0 ? '是' : '否'
  })

&lt;/script&gt;

&lt;template&gt;
&lt;div&gt;
  &lt;p&gt;作者:{{ author.name }}&lt;/p&gt;
  是否出版过图书: {{ hasBooks }}
&lt;/div&gt;
&lt;/template&gt;

&lt;style scoped&gt;
&lt;/style&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="数据监听器"><a href="#数据监听器" class="headerlink" title="数据监听器"></a>数据监听器</h3><p><code>watch</code> 函数监听：</p>
<pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;script setup&gt;
  /* 
    利用watch函数监听数据的变化
    利用watch函数监听ref响应式数据  语法: watch(监听的数据, 执行的函数)
    利用watch函数监听reactive响应式数据  语法：watch(函数返回要监听的响应式数据, 执行的函数)
    利用watch函数深度监听整个对象  语法：watch(函数返回要监听的对象, 执行的函数, {deep:true})
    让watch函数在页面打开时先执行一次  语法：watch(..., ..., {deep:true, immediate:true})
  */

  import { ref, reactive, watch } from 'vue'

  let fullname = ref("")

  let firstname = ref("")

  let lastname = reactive({
    name:""
  })

  //watch函数监听ref数据
  watch(firstname, (newValue, oldValue)=&gt;{
    fullname.value = newValue + lastname.name
    //console.log(oldValue + "&gt;" + newValue)
  }) 

  //watch函数监听reactive数据
  watch(()=&gt;{return lastname.name}, (newValue, oldValue)=&gt;{
    fullname.value = firstname.value + newValue
    //console.log(oldValue + "&gt;" + newValue)
  })

  //watch函数深度监听整个对象
  watch(()=&gt;{return lastname}, (newValue, oldValue)=&gt;{
    fullname.value = firstname.value + lastname.name
  }, {deep:true})
&lt;/script&gt;

&lt;template&gt;
&lt;div&gt;
  姓氏: &lt;input type="text" v-model="firstname"&gt; &lt;br&gt;
  名字: &lt;input type="text" v-model="lastname.name"&gt; &lt;br&gt;
  全名: {{ fullname }}
&lt;/div&gt;
&lt;/template&gt;

&lt;style scoped&gt;
&lt;/style&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><code>watchEffect</code> 函数监听：</p>
<pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;script setup&gt;
  /* 
    利用watchEffect可以同时监听ref和reactive数据
    任何一个响应式数据发生变化，watchEffect都可以监听到
  */

  import { ref, reactive, watchEffect } from 'vue'

  let fullname = ref("")

  let firstname = ref("")

  let lastname = reactive({
    name:""
  })

  watchEffect(()=&gt;{
    fullname.value = firstname.value + lastname.name
  })
&lt;/script&gt;

&lt;template&gt;
&lt;div&gt;
  姓氏: &lt;input type="text" v-model="firstname"&gt; &lt;br&gt;
  名字: &lt;input type="text" v-model="lastname.name"&gt; &lt;br&gt;
  全名: {{ fullname }}
&lt;/div&gt;
&lt;/template&gt;

&lt;style scoped&gt;
&lt;/style&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="Vue-生命周期"><a href="#Vue-生命周期" class="headerlink" title="Vue 生命周期"></a>Vue 生命周期</h3><p>每个 Vue 组件实例在创建时都需要经历一系列的初始化步骤，比如设置好数据监听，编译模板，挂载实例到 DOM，以及在数据改变时更新 DOM。在此过程中，它也会运行被称为<strong>生命周期钩子</strong>的函数，让开发者有机会在特定阶段运行自己的代码。</p>
<p>浏览器解析的是 <code>index.html</code> 文件，当中只有一个 <code>&lt;div id="app"&gt;&lt;/div&gt;</code>。我们通过编辑 <code>App.vue</code> 文件来为 <code>div</code> 挂载组件。<code>App.vue</code> 文件内容会先被实例化成一个对象，当中包含了我们编写的属性和方法。在实例化成对象前后分别调用 <code>beforeCreate</code> 和 <code>created</code> 两个钩子。我们知道，<code>index.html</code>文件对应有一棵 DOM 树，而因为我们编写的 <code>App.vue</code> 文件当中实际上也包含了 html 代码，故也有一棵 DOM 树。接下来要做的，就是把 <code>App.vue</code> 文件中的 DOM 树挂载到 <code>index.html</code> 文件的 DOM 树上，挂载前后分别调用 <code>beforeMount</code> 和 <code>mounted</code> 两个钩子。当使用双向绑定等操作使得 DOM 树发生更新时，前后分别会调用 <code>beforeUpdate</code> 和 <code>updated</code> 两个钩子。当卸载部分 DOM 子树时，前后需要调用 <code>beforeUnmount</code> 和 <code>unmounted</code> 两个钩子。</p>
<p><mark>实际开发当中，在进行页面更新的时候可能会使用到生命周期钩子。</mark></p>
<h3 id="组件拼接页面"><a href="#组件拼接页面" class="headerlink" title="组件拼接页面"></a>组件拼接页面</h3><p>在其他 <code>.vue</code> 文件中写好组件后，将组件导入到 <code>App.vue</code> 文件中进行组合，组合时可以直接使用标签名：</p>
<pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;script setup&gt;
/* 
  引入三个文件
*/
  import Header from './components/Header.vue'
  import Navigator from './components/Navigator.vue'
  import Content from './components/Content.vue'
&lt;/script&gt;

&lt;template&gt;
&lt;div&gt;
&lt;!-- 利用标签名直接使用文件 --&gt;
  &lt;Header class="header"&gt;&lt;/Header&gt;
  &lt;Navigator class="navigator"&gt;&lt;/Navigator&gt;
  &lt;Content class="content"&gt;&lt;/Content&gt;
&lt;/div&gt;
&lt;/template&gt;

&lt;style scoped&gt;
/* 此处定义相关css样式 */
&lt;/style&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="组件传参问题"><a href="#组件传参问题" class="headerlink" title="组件传参问题"></a>组件传参问题</h3><p>组件传参有三种方式：父传子，子传父，兄弟传参。其中，兄弟传参是由一次子传父和一次父传子组合而成，这里我们演示兄弟传参。</p>
<p>首先，子传父（相当于儿子发生了一个事件，然后父亲去捕捉这个事件）：</p>
<pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;script setup&gt;
    /* 向父组件发送参数 */

    //导入defineEmits方法
    //该方法用于定义向父组件提交数据的事件以及正式提交数据
    import { defineEmits } from 'vue';

    //定义一个向父组件提交数据的事件数组，事件名称自定义
    const emits = defineEmits(["sendMenu"])

    //提交数据的方法
    function send(data) {
        emits("sendMenu", data)
    }
&lt;/script&gt;

&lt;template&gt;
&lt;div&gt;
    &lt;ul&gt;
        &lt;li @click="send('学员管理')"&gt;学员管理&lt;/li&gt;
        &lt;li @click="send('图书管理')"&gt;图书管理&lt;/li&gt;
        &lt;li @click="send('请假管理')"&gt;请假管理&lt;/li&gt;
        &lt;li @click="send('班级管理')"&gt;班级管理&lt;/li&gt;
        &lt;li @click="send('教师管理')"&gt;教师管理&lt;/li&gt;
    &lt;/ul&gt;
&lt;/div&gt;
&lt;/template&gt;

&lt;style scoped&gt;
&lt;/style&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>父组件接收子组件的传参并传递给另一个子组件：</p>
<pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;script setup&gt;
  import { ref } from 'vue'
/* 
  引入三个文件
*/
  import Header from './components/Header.vue'
  import Navigator from './components/Navigator.vue'
  import Content from './components/Content.vue'

  let menu = ref("")

  /* receiver方法把子组件的参数赋值给父组件的值 */
  function receiver(data) {
    menu.value = data
  }
&lt;/script&gt;

&lt;template&gt;
&lt;div&gt;
&lt;!-- 利用标签名直接使用文件 --&gt;
  &lt;Header class="header"&gt;&lt;/Header&gt;
  &lt;!-- 调用receiver方法接收子组件的传参 --&gt;
  &lt;Navigator @sendMenu="receiver" class="navigator"&gt;&lt;/Navigator&gt;
  &lt;!-- 父组件给子组件传参，利用v-bind命令 --&gt;
  &lt;Content class="content" :message="menu"&gt;&lt;/Content&gt;
&lt;/div&gt;
&lt;/template&gt;

&lt;style scoped&gt;
/* css样式 */
&lt;/style&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>另一个子组件接收父组件的传参：</p>
<pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;script setup&gt;
    /* 接受父组件的参数 */
    //导入defineProps方法
    import { defineProps } from 'vue'

    //在definProps方法中明确数据的属性，这里是使用对象
    defineProps({
        message:String
    })
    
    //let props = defineProps(['message'])，这里是使用数组

&lt;/script&gt;

&lt;template&gt;
&lt;div&gt;
    &lt;!-- 使用父组件传递过来的参数 --&gt;
    {{ message }}
    &lt;!-- {{ props.message }} --&gt;
&lt;/div&gt;
&lt;/template&gt;

&lt;style scoped&gt;
&lt;/style&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="插槽"><a href="#插槽" class="headerlink" title="插槽"></a>插槽</h3><p>插槽是父组件给子组件传值的一种方式，<strong>通常用来传递页面模板</strong>。</p>
<p>父组件需要往子组件中利用<code>template</code>标签绑定插槽：</p>
<pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;script setup&gt;
import Son from "./Son.vue";
&lt;/script&gt;

&lt;template&gt;
  &lt;h2&gt;Father&lt;/h2&gt;
  &lt;Son&gt;
    &lt;template v-slot:default&gt;
      &lt;button&gt;click me&lt;/button&gt;
    &lt;/template&gt;
  &lt;/Son&gt;
&lt;/template&gt;

&lt;style scoped&gt;

&lt;/style&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>子组件使用<code>slot</code>标签使用插槽，到时候这个插槽的位置会被替换成父组件传递过来的页面模板：</p>
<pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;script setup&gt;

&lt;/script&gt;

&lt;template&gt;
  &lt;slot name="default"&gt;
    &lt;h3&gt;插槽默认值&lt;/h3&gt;
  &lt;/slot&gt;
&lt;/template&gt;

&lt;style scoped&gt;

&lt;/style&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="Vue3-的路由机制"><a href="#Vue3-的路由机制" class="headerlink" title="Vue3 的路由机制"></a>Vue3 的路由机制</h2><blockquote>
<p>路由就是根据不同 URL 地址展示不同的内容或页面。单页应用程序（SPA）中，路由可以实现不同视图之间的无刷新切换，提升用户体验。还可以是实现页面的认证和权限控制，保护用户的隐私和安全。路由还可以利用浏览器的前进和后退，帮助用户更好的回到之前访问过的页面。</p>
</blockquote>
<p>在 Vue3 中，我们通过路由来实现页面的切换，而页面的切换往往伴随着组件的切换，即我们可以通过路由定义路径和组件之间的关系。</p>
<p>使用路由需要在原本项目的基础上安装一个路由依赖，使用 <code>npm install vue-router</code>安装路由。</p>
<h3 id="路由的基本使用"><a href="#路由的基本使用" class="headerlink" title="路由的基本使用"></a>路由的基本使用</h3><p>首先，需要在 <code>src</code> 文件夹下再创建一个 <code>routers</code> 文件夹，专门用来存放编写路由相关的 <code>js</code> 文件。</p>
<p>接着，在<code>routers</code>文件夹下创建 <code>router.js</code> 文件，编写路由相关代码：</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">/* 导入.vue组件 */</span>
<span class="token keyword">import</span> Home <span class="token keyword">from</span> <span class="token string">'../components/Home.vue'</span>
<span class="token keyword">import</span> List <span class="token keyword">from</span> <span class="token string">'../components/List.vue'</span>
<span class="token keyword">import</span> Add <span class="token keyword">from</span> <span class="token string">'../components/Add.vue'</span>
<span class="token keyword">import</span> Update <span class="token keyword">from</span> <span class="token string">'../components/Update.vue'</span>

<span class="token comment">/* 导入创建路由对象需要使用的函数 */</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> createRouter<span class="token punctuation">,</span> createWebHashHistory <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue-router'</span>

<span class="token comment">//创建一个路由对象</span>
<span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token function">createRouter</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token comment">//history属性用于记录路由的历史</span>
    <span class="token literal-property property">history</span><span class="token operator">:</span><span class="token function">createWebHashHistory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>

    <span class="token comment">//routes数组用于定义多个不同的路径和组件之间的对应关系</span>
    <span class="token literal-property property">routes</span><span class="token operator">:</span><span class="token punctuation">[</span>
        <span class="token punctuation">{</span><span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">"/"</span><span class="token punctuation">,</span> <span class="token literal-property property">component</span><span class="token operator">:</span>Home<span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token comment">//刚进入页面时也映射到Home</span>
        <span class="token punctuation">{</span><span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">"/home"</span><span class="token punctuation">,</span> <span class="token literal-property property">component</span><span class="token operator">:</span>Home<span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span><span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">"/add"</span><span class="token punctuation">,</span> <span class="token literal-property property">component</span><span class="token operator">:</span>Add<span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span><span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">"/list"</span><span class="token punctuation">,</span> <span class="token literal-property property">component</span><span class="token operator">:</span>List<span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span><span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">"/update/:id"</span><span class="token punctuation">,</span> <span class="token literal-property property">component</span><span class="token operator">:</span>Update<span class="token punctuation">}</span> <span class="token comment">//使用:id进行参数占位</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">//向外暴露router</span>
<span class="token keyword">export</span> <span class="token punctuation">{</span> router <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>在 <code>main.js</code> 中配置路由相关信息：</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">import</span> <span class="token punctuation">{</span> createApp <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>

<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">'./App.vue'</span>

<span class="token comment">//在整个App.vue中可以使用路由</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> router <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./routers/router.js'</span>

<span class="token comment">//应用路由</span>
<span class="token function">createApp</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>router<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">mount</span><span class="token punctuation">(</span><span class="token string">'#app'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>最后在 App.vue 中使用 <code>router-view</code> 和 <code>router-link</code> 标签实现页面的切换：</p>
<pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;script setup&gt;
/* 
  使用路由实现页面的切换，需要使用router-view和router-link标签
*/
&lt;/script&gt;

&lt;template&gt;
&lt;div&gt;
  &lt;h1&gt;hello&lt;/h1&gt;&lt;br&gt;
  &lt;!-- 使用router-link实现页面切换 --&gt;
  &lt;router-link to="/home"&gt;home页&lt;/router-link&gt;&lt;br&gt;
  &lt;router-link to="/list"&gt;list页&lt;/router-link&gt;&lt;br&gt;
  &lt;router-link to="/add"&gt;add页&lt;/router-link&gt;&lt;br&gt;
  &lt;router-link to="/update/11"&gt;update页&lt;/router-link&gt;&lt;br&gt;
  &lt;!--
    在update组件中，使用{{ $route.params }}展示传递过来的参数json
  --&gt;
    
  &lt;hr&gt;
    
  &lt;!-- 该标签会被替换成具体的.vue文件 --&gt;
  &lt;router-view&gt;&lt;/router-view&gt;
    
&lt;/div&gt;
&lt;/template&gt;

&lt;style scoped&gt;
&lt;/style&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>此外，我们还可以指定 <code>router-view</code> 和具体 <code>.vue</code> 文件的对应关系，实际操作的时候，需要在 <code>router-view</code> 标签中写入 <code>name</code> 属性，并且在 <code>router.js</code> 文件中将 <code>component</code> 属性重写为 <code>components</code> 属性：</p>
<pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;script setup&gt;
/* 
  使用路由实现页面的切换，需要使用router-view和router-link标签

  一个视图上是可以存在多个router-view的
  每个router-view都可以设置专门用来展示哪个组件
  但是一般来说，一个.vue文件中只需要使用一个router-view标签即可
*/
&lt;/script&gt;

&lt;template&gt;
&lt;div&gt;
  &lt;h1&gt;hello&lt;/h1&gt;&lt;br&gt;
  &lt;!-- 使用router-link实现页面切换 --&gt;
  &lt;router-link to="/home"&gt;home页&lt;/router-link&gt;&lt;br&gt;
  &lt;router-link to="/list"&gt;list页&lt;/router-link&gt;&lt;br&gt;
  &lt;router-link to="/add"&gt;add页&lt;/router-link&gt;&lt;br&gt;
  &lt;router-link to="/update"&gt;update页&lt;/router-link&gt;&lt;br&gt;
  &lt;hr&gt;
  &lt;!-- 该标签会被替换成具体的.vue文件 --&gt;
  default&lt;router-view&gt;&lt;/router-view&gt;
  home&lt;router-view name="homeView"&gt;&lt;/router-view&gt;&lt;hr&gt;
  list&lt;router-view name="listView"&gt;&lt;/router-view&gt;&lt;hr&gt;
  add&lt;router-view name="addView"&gt;&lt;/router-view&gt;&lt;hr&gt;
  update&lt;router-view name="updateView"&gt;&lt;/router-view&gt;&lt;hr&gt;
&lt;/div&gt;
&lt;/template&gt;

&lt;style scoped&gt;
&lt;/style&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">/* 导入.vue组件 */</span>
<span class="token keyword">import</span> Home <span class="token keyword">from</span> <span class="token string">'../components/Home.vue'</span>
<span class="token keyword">import</span> List <span class="token keyword">from</span> <span class="token string">'../components/List.vue'</span>
<span class="token keyword">import</span> Add <span class="token keyword">from</span> <span class="token string">'../components/Add.vue'</span>
<span class="token keyword">import</span> Update <span class="token keyword">from</span> <span class="token string">'../components/Update.vue'</span>

<span class="token comment">/* 导入创建路由对象需要使用的函数 */</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> createRouter<span class="token punctuation">,</span> createWebHashHistory <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue-router'</span>

<span class="token comment">//创建一个路由对象</span>
<span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token function">createRouter</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token comment">//history属性用于记录路由的历史</span>
    <span class="token literal-property property">history</span><span class="token operator">:</span><span class="token function">createWebHashHistory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>

    <span class="token comment">//routes数组用于定义多个不同的路径和组件之间的对应关系</span>
    <span class="token literal-property property">routes</span><span class="token operator">:</span><span class="token punctuation">[</span>
        <span class="token punctuation">{</span><span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">"/"</span><span class="token punctuation">,</span> <span class="token literal-property property">components</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token keyword">default</span><span class="token operator">:</span>Home<span class="token punctuation">,</span> <span class="token literal-property property">homeView</span><span class="token operator">:</span>Home<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token comment">//利用default进行不含name属性的映射</span>
        <span class="token punctuation">{</span><span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">"/home"</span><span class="token punctuation">,</span> <span class="token literal-property property">components</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token literal-property property">homeView</span><span class="token operator">:</span>Home<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span><span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">"/add"</span><span class="token punctuation">,</span> <span class="token literal-property property">components</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token literal-property property">addView</span><span class="token operator">:</span>Add<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span><span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">"/list"</span><span class="token punctuation">,</span> <span class="token literal-property property">components</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token literal-property property">listView</span><span class="token operator">:</span>List<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span><span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">"/update"</span><span class="token punctuation">,</span> <span class="token literal-property property">components</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token literal-property property">updateView</span><span class="token operator">:</span>Update<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span><span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">"/showAll"</span><span class="token punctuation">,</span> <span class="token literal-property property">components</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token literal-property property">listView</span><span class="token operator">:</span>List<span class="token punctuation">}</span><span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">//向外暴露router</span>
<span class="token keyword">export</span> <span class="token punctuation">{</span>router<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="嵌套路由"><a href="#嵌套路由" class="headerlink" title="嵌套路由"></a>嵌套路由</h3><p>当点击一个按钮后，跳转到另一个页面，另一个页面中也有嵌套组件，这个时候就需要用到嵌套路由。</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">import</span> Email <span class="token keyword">from</span> <span class="token string">"../components/Email.vue"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> Hello <span class="token keyword">from</span> <span class="token string">"../components/Hello.vue"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> Info <span class="token keyword">from</span> <span class="token string">"../components/Info.vue"</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span> createRouter<span class="token punctuation">,</span> createWebHistory <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"vue-router"</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token function">createRouter</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">history</span><span class="token operator">:</span> <span class="token function">createWebHistory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">routes</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/hello/:id'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">component</span><span class="token operator">:</span> Hello<span class="token punctuation">,</span>
            <span class="token literal-property property">redirect</span><span class="token operator">:</span> <span class="token string">'/info'</span><span class="token punctuation">,</span>	<span class="token comment">// 重定向，默认重定向到这里</span>
            <span class="token comment">// 使用children参数声明子路由</span>
            <span class="token literal-property property">children</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token punctuation">{</span>
                    <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'info'</span><span class="token punctuation">,</span>
                    <span class="token literal-property property">component</span><span class="token operator">:</span> Info
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{</span>
                    <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'email'</span><span class="token punctuation">,</span>
                    <span class="token literal-property property">component</span><span class="token operator">:</span> Email
                <span class="token punctuation">}</span>
            <span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token punctuation">{</span> router <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;script setup&gt;
&lt;/script&gt;

&lt;template&gt;
&lt;h2&gt;Hello {{ $route.params.id }} &lt;/h2&gt;&lt;br&gt;
  &lt;!-- 子组件需要把路径写完整 --&gt;
  &lt;router-link to="/hello/zhangsan/info"&gt;个人信息&lt;/router-link&gt;&lt;br&gt;
  &lt;router-link to="/hello/zhangsan/email"&gt;电子邮箱&lt;/router-link&gt;&lt;hr&gt;
  &lt;div&gt;
    &lt;router-view&gt;&lt;/router-view&gt;
  &lt;/div&gt;

&lt;/template&gt;

&lt;style scoped&gt;
&lt;/style&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="编程式路由"><a href="#编程式路由" class="headerlink" title="编程式路由"></a>编程式路由</h3><pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;script setup&gt;
    //导入方法
    import { useRouter } from 'vue-router';
    import { ref } from 'vue'

    //调用方法返回路由对象
    const router = useRouter()  

    function showList() {
        //编程式路由实现页面跳转
        //router.push({path:"/list"})
        router.push("/list")
    }

    let myPage = ref("home")

    function goMyPage() {
        router.push("/" + myPage.value)
    }

&lt;/script&gt;

&lt;template&gt;
&lt;div&gt;
    &lt;!-- 声明式路由 --&gt;
    &lt;router-link to="/home"&gt;home&lt;/router-link&gt;&lt;br&gt;
    &lt;router-link to="/list"&gt;list&lt;/router-link&gt;&lt;br&gt;
    &lt;router-link to="/add"&gt;add&lt;/router-link&gt;&lt;br&gt;
    &lt;router-link to="/update"&gt;update&lt;/router-link&gt;&lt;br&gt;
    &lt;hr&gt;
    &lt;!-- 编程式路由 --&gt;
    &lt;button @click="showList()"&gt;list&lt;/button&gt; &lt;br&gt;
    &lt;!-- 结合响应式数据进行页面跳转 --&gt;
    &lt;button @click="goMyPage()"&gt;Go&lt;/button&gt; &lt;input type="text" v-model="myPage"&gt;

    &lt;hr&gt;
    &lt;router-view&gt;&lt;/router-view&gt;
&lt;/div&gt;
&lt;/template&gt;

&lt;style scoped&gt;
&lt;/style&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="路由传参"><a href="#路由传参" class="headerlink" title="路由传参"></a>路由传参</h3><p>路由中的参数有：</p>
<ol>
<li>形如 <code>.../showDetail?key1=value1&amp;key2=value2...</code> 的<strong>键值对参数</strong>。</li>
<li>形如 <code>.../showDetail/value1/value2/value3...</code> 的<strong>路径参数</strong>。</li>
</ol>
<h4 id="路径参数"><a href="#路径参数" class="headerlink" title="路径参数"></a>路径参数</h4><p><code>App.vue</code> 文件如下，使用路径参数的方法编写 url，确定参数的值：</p>
<pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;script setup&gt;
    import { useRouter } from 'vue-router';

    const router = useRouter()

    function showDetail(id, language) {
        router.push("/showDetail/" + id + "/" + language)
    }
    
    // 或者使用对象来进行编程式路由跳转
    function showDetail2(id, language) {
        router.push({
            name: 'showDetail',
            params: {
                id: id,
                language: language
            }
        })
    }
&lt;/script&gt;

&lt;template&gt;
&lt;div&gt;
    &lt;!-- router-link传参时带上参数 --&gt;
    &lt;router-link to="/showDetail/1/java"&gt;声明式路由传参&lt;/router-link&gt;
    &lt;button @click="showDetail(2, 'PHP')"&gt;编程式路由路径传参&lt;/button&gt;
    &lt;hr&gt;
    &lt;router-view&gt;&lt;/router-view&gt;
&lt;/div&gt;
&lt;/template&gt;

&lt;style scoped&gt;
&lt;/style&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><code>router.js</code> 文件在 <code>path</code> 属性中加入参数的名称：</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">//导入组件</span>
<span class="token keyword">import</span> ShowDetail <span class="token keyword">from</span> <span class="token string">'../components/ShowDetail.vue'</span>

<span class="token comment">//导入创建路由的相关方法</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> createRouter<span class="token punctuation">,</span> createWebHashHistory <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue-router'</span>

<span class="token comment">//创建路由对象</span>
<span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token function">createRouter</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">history</span><span class="token operator">:</span> <span class="token function">createWebHashHistory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">routes</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token comment">//在指定url时加上参数，需要加:</span>
        <span class="token punctuation">{</span><span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">"/showDetail/:id/:language"</span><span class="token punctuation">,</span> <span class="token literal-property property">component</span><span class="token operator">:</span>ShowDetail<span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">//对外暴露</span>
<span class="token keyword">export</span> <span class="token punctuation">{</span> router <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><code>ShowDetail.vue</code> 文件利用 <code>useRoute</code> 接收传递过来的参数：</p>
<pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;script setup&gt;
    /* 
        接收传递过来的路径参数useRoute 
        route.params 表示路径参数
        route.query 表示键值对参数
    */
    //导入useRoute方法接收参数
    import { useRoute, onUpdated } from 'vue-router';
    import { ref } from 'vue'

    let route = useRoute()

    let id = ref(route.params.id)
    let language = ref(route.params.language)
    
    //利用onUpdated更新页面数据
    onUpdated(()=&gt;{
        id.value = route.params.id
        language.value = route.params.language
    })

&lt;/script&gt;

&lt;template&gt;
&lt;div&gt;
    &lt;h1&gt;ShowDetail接收路径参数&lt;/h1&gt;
    &lt;div v-text="id + '.' + language + '是世界上最好的语言'"&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/template&gt;

&lt;style scoped&gt;
&lt;/style&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="键值对参数"><a href="#键值对参数" class="headerlink" title="键值对参数"></a>键值对参数</h4><p><code>App.vue</code> 文件如下，需要确定键值对的键和值：</p>
<pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;script setup&gt;
    import { useRouter } from 'vue-router';

    const router = useRouter()

    function showDetail2(id, language) {
        router.push(`/showDetail2?id=${id}&amp;language=${language}`)
        //router.push({path:'/showDetail2', query:{id:id, language:language}})
    }
    
&lt;/script&gt;

&lt;template&gt;
&lt;div&gt;
    &lt;!-- 键值对参数 --&gt;
    &lt;router-link to="/showDetail2?id=1&amp;language=java"&gt;声明式路由键值对参数&lt;/router-link&gt;
    &lt;!-- routerlink的另一种写法，使得参数更加灵活 --&gt;
    &lt;router-link :to="{path:'/showDetail2', query:{id:3, language:'C++'}}"&gt;&lt;/router-link&gt;
    &lt;button @click="showDetail2(2, 'PHP')"&gt;编程式路由键值对参数&lt;/button&gt;
    &lt;hr&gt;
    &lt;router-view&gt;&lt;/router-view&gt;
&lt;/div&gt;
&lt;/template&gt;

&lt;style scoped&gt;
&lt;/style&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><code>router.js</code> 文件中指定映射路径即可：</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">//导入组件</span>
<span class="token keyword">import</span> ShowDetail2 <span class="token keyword">from</span> <span class="token string">'../components/ShowDetail2.vue'</span>

<span class="token comment">//导入创建路由的相关方法</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> createRouter<span class="token punctuation">,</span> createWebHashHistory <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue-router'</span>

<span class="token comment">//创建路由对象</span>
<span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token function">createRouter</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">history</span><span class="token operator">:</span> <span class="token function">createWebHashHistory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">routes</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span><span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">"/showDetail2"</span><span class="token punctuation">,</span> <span class="token literal-property property">component</span><span class="token operator">:</span>ShowDetail2<span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">//对外暴露</span>
<span class="token keyword">export</span> <span class="token punctuation">{</span> router <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><code>showDetail2.vue</code> 文件中需要使用 <code>query</code> 来接收参数：</p>
<pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;script setup&gt;
    /* 
        接收传递过来的路径参数useRoute 
        route.params 表示路径参数
        route.query 表示键值对参数
    */
    //导入useRoute方法接收参数
    import { useRoute } from 'vue-router';
    import { ref, onUpdated } from 'vue'

    let route = useRoute()

    let id = ref(route.query.id)
    let language = ref(route.query.language)

    onUpdated(()=&gt;{
        id.value = route.query.id
        language.value = route.query.language
    })

&lt;/script&gt;

&lt;template&gt;
&lt;div&gt;
    &lt;h1&gt;ShowDetail接收键值对参数&lt;/h1&gt;
    &lt;div v-text="id + '.' + language + '是世界上最好的语言'"&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/template&gt;

&lt;style scoped&gt;
&lt;/style&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="路由守卫"><a href="#路由守卫" class="headerlink" title="路由守卫"></a>路由守卫</h3><blockquote>
<p>在 Vue3 中，路由守卫是用于在路由切换期间进行一些特定任务的回调函数，路由守卫可以用于许多任务，例如验证用户是否登录，在路由切换前提供确认提示、需求数据等。Vue3 为路由守卫提供了全面的支持。</p>
</blockquote>
<p>Vue3 中提供了以下几种路由守卫：</p>
<ul>
<li>全局前置守卫：在路由切换前被调用，可以用于验证用户是否已登录、中断导航、请求数据等。</li>
<li>全局后置守卫：在路由切换后被调用，可以用处理数据，操作 DOM、记录日志等。</li>
</ul>
<p>守卫代码的位置：在 <code>router.js</code> 中。</p>
<p><code>router.js</code> 文件如下：</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">//导入组件</span>
<span class="token keyword">import</span> Home <span class="token keyword">from</span> <span class="token string">'../components/Home.vue'</span>
<span class="token keyword">import</span> Add <span class="token keyword">from</span> <span class="token string">'../components/Add.vue'</span>
<span class="token keyword">import</span> List <span class="token keyword">from</span> <span class="token string">'../components/List.vue'</span>
<span class="token keyword">import</span> Update <span class="token keyword">from</span> <span class="token string">'../components/Update.vue'</span>

<span class="token comment">//导入创建路由的相关方法</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> createRouter<span class="token punctuation">,</span> createWebHashHistory <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue-router'</span>

<span class="token comment">//创建路由对象</span>
<span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token function">createRouter</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">history</span><span class="token operator">:</span> <span class="token function">createWebHashHistory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">routes</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span><span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">"/"</span><span class="token punctuation">,</span> <span class="token literal-property property">component</span><span class="token operator">:</span>Home<span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span><span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">"/home"</span><span class="token punctuation">,</span> <span class="token literal-property property">component</span><span class="token operator">:</span>Home<span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span><span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">"/list"</span><span class="token punctuation">,</span> <span class="token literal-property property">component</span><span class="token operator">:</span>List<span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span><span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">"/add"</span><span class="token punctuation">,</span> <span class="token literal-property property">component</span><span class="token operator">:</span>Add<span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span><span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">"/update"</span><span class="token punctuation">,</span> <span class="token literal-property property">component</span><span class="token operator">:</span>Update<span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">//设置全局前置守卫</span>
<span class="token comment">//beforeEach方法  每次路由切换页面前都会调用</span>
router<span class="token punctuation">.</span><span class="token function">beforeEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> from<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token comment">/* 
        from 表示上一个页面
        to 表示下一个页面
        next 表示放行的方法，只有执行了该方法才会放行路由
            next() 表示放行
            next("/其他路由路径") 表示路由的重定向 

        next的路由重定向可能会造成路由死循环的情况
        （假设我现在要访问hello页面，然后路由再把页面定位到hello页，就造成了死循环）
        使用的时候需要小心谨慎
        建议在if分支下编写next的路由重定向
    */</span>

    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"beforeEach"</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>from<span class="token punctuation">.</span>path <span class="token operator">+</span> <span class="token string">" -&gt; "</span> <span class="token operator">+</span> to<span class="token punctuation">.</span>path<span class="token punctuation">)</span>
    <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">//放行</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">//设置全局后置守卫</span>
<span class="token comment">//afterEach方法  每次路由切换页面后都会调用</span>
router<span class="token punctuation">.</span><span class="token function">afterEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> <span class="token keyword">from</span></span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"afterEach"</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">//对外暴露</span>
<span class="token keyword">export</span> <span class="token punctuation">{</span> router <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="路由练习"><a href="#路由练习" class="headerlink" title="路由练习"></a>路由练习</h3><p>以下是利用路由守卫进行登录判断的操作，登录以后才可以进入 home，否则必须进入 login。可以参考后端的检测登录方式，我们把用户的登录信息保存在浏览器的 session 会话当中（<code>sessionStorage</code>），然后通过查看 <code>sessionStorage</code> 中的用户信息存在情况来判定用户是否登录。</p>
<p><code>App.vue</code> 文件如下：</p>
<pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;script setup&gt;
&lt;/script&gt;

&lt;template&gt;
&lt;div&gt;
  &lt;router-view&gt;&lt;/router-view&gt;
&lt;/div&gt;
&lt;/template&gt;

&lt;style scoped&gt;
&lt;/style&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><code>main.js</code> 文件如下：</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">import</span> <span class="token punctuation">{</span> createApp <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span> router <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./routers/router.js'</span>

<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">'./App.vue'</span>

<span class="token function">createApp</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>router<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">mount</span><span class="token punctuation">(</span><span class="token string">'#app'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><code>router.js</code> 文件如下：</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">import</span> Home <span class="token keyword">from</span> <span class="token string">'../components/Home.vue'</span>
<span class="token keyword">import</span> Login <span class="token keyword">from</span> <span class="token string">'../components/Login.vue'</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span> createRouter<span class="token punctuation">,</span> createWebHashHistory <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue-router'</span>

<span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token function">createRouter</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">history</span><span class="token operator">:</span> <span class="token function">createWebHashHistory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">routes</span><span class="token operator">:</span><span class="token punctuation">[</span>
        <span class="token punctuation">{</span><span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">"/"</span><span class="token punctuation">,</span> <span class="token literal-property property">component</span><span class="token operator">:</span>Login<span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span><span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">"/home"</span><span class="token punctuation">,</span> <span class="token literal-property property">component</span><span class="token operator">:</span>Home<span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span><span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">"/login"</span><span class="token punctuation">,</span> <span class="token literal-property property">component</span><span class="token operator">:</span>Login<span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">//通过路由前置守卫控制登录</span>
router<span class="token punctuation">.</span><span class="token function">beforeEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> from<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>to<span class="token punctuation">.</span>path <span class="token operator">===</span> <span class="token string">"/login"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//判断如果要是去登录视图，直接放行</span>
        <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token comment">//如果是去home，那么需要在登录之后才放行</span>
        <span class="token keyword">const</span> username <span class="token operator">=</span> window<span class="token punctuation">.</span>sessionStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">"username"</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">null</span> <span class="token operator">!=</span> username<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token comment">//登录后就放行</span>
            <span class="token function">next</span><span class="token punctuation">(</span><span class="token string">"/login"</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token punctuation">{</span> router <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><code>Home.vue</code> 文件如下：</p>
<pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;script setup&gt;
    import { useRouter } from 'vue-router'

    let username = window.sessionStorage.getItem("username")

    const router = useRouter()

    function logout() {
        //清除sessionStorage中的用户登录信息
        window.sessionStorage.removeItem("username")
        //跳转页面
        router.push("/login")
    }
&lt;/script&gt;

&lt;template&gt;
&lt;div&gt;
    &lt;h1&gt;欢迎{{ username }}登录&lt;/h1&gt;
    &lt;button @click="logout()"&gt;退出登录&lt;/button&gt;
&lt;/div&gt;
&lt;/template&gt;

&lt;style scoped&gt;
&lt;/style&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><code>Login.vue</code> 文件如下：</p>
<pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;script setup&gt;
    import { ref } from 'vue'
    import { useRouter } from 'vue-router';

    let username = ref("")
    let password = ref("")

    const router = useRouter()

    function login() {
        //获取用户名和密码并校验
        //为了方便处理，这里用户名和密码写死
        if(username.value === "root" &amp;&amp; password.value === "123") {
            //将用户名保存到浏览器上    sessionStorage localStorage
            window.sessionStorage.setItem("username", username.value)
            //跳转页面
            router.push("/home")
        }
        else {
            alert("登录失败")
        }
    }
&lt;/script&gt;

&lt;template&gt;
&lt;div&gt;
    账号: &lt;input type="text" v-model="username"&gt; &lt;br&gt;
    密码: &lt;input type="password" v-model="password"&gt; &lt;br&gt;
    &lt;button @click="login()"&gt;登录&lt;/button&gt;
&lt;/div&gt;
&lt;/template&gt;

&lt;style scoped&gt;
&lt;/style&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="Promise"><a href="#Promise" class="headerlink" title="Promise"></a>Promise</h2><h3 id="普通函数和回调函数"><a href="#普通函数和回调函数" class="headerlink" title="普通函数和回调函数"></a>普通函数和回调函数</h3><p>普通函数：正常调用的函数，一般函数执行完毕后才会继续执行下一段代码。</p>
<pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>width=device-width, initial-scale=1.0<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>promise<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
        <span class="token keyword">function</span> <span class="token function">fun1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"fun1 invoked"</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"code1 invoked"</span><span class="token punctuation">)</span>
        <span class="token comment">//函数的调用</span>
        <span class="token function">fun1</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"code2 invoked"</span><span class="token punctuation">)</span>
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>回调函数：一些特殊的函数，表示未来才会执行的一些功能，后续代码不会等待该函数执行完毕就开始执行了。</p>
<pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>width=device-width, initial-scale=1.0<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>promise<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
        <span class="token comment">//setTimeout方法参数列表中的函数便是一个回调函数</span>
        <span class="token comment">//这个函数的后续代码不会等到该函数执行完后才执行</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"code1 invoked"</span><span class="token punctuation">)</span>
        <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"fun2 invoked"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"code2 invoked"</span><span class="token punctuation">)</span>
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>总的来说，回调函数是一种未来会执行的函数，回调函数以外的代码会继续执行。回调函数有三种状态，一种是进行中，一种是成功，另一种是失败。不管回调函数最后执行成功与否，我们都需要准备对应的解决方案。</p>
<p>我们可以利用 <code>promise</code> 将一个函数转换为一个回调函数，并进行响应的处理工作。</p>
<h3 id="Promise-简介"><a href="#Promise-简介" class="headerlink" title="Promise 简介"></a>Promise 简介</h3><blockquote>
<p>Promise 是前端中的异步编程技术，类似 Java 中的多线程 + 线程结果回调。它是异步编程的一种解决方案，ES6 将其写入了语言标准之中，统一了用法，原生提供了 <code>promise</code> 对象。</p>
</blockquote>
<p>Promise 对象代表一个异步操作，有三种状态：Pending（进行中）、Resolved（已完成，又称 Fulfilled）、Rejected（已失败）。只有异步操作的结果可以决定当前是哪一种状态，任何其他操作都无法改变这个状态。一旦状态改变，就不会再变，任何时候都可以得到这个结果，又称状态凝固。</p>
<h3 id="基本语法"><a href="#基本语法" class="headerlink" title="基本语法"></a>基本语法</h3><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>width=device-width, initial-scale=1.0<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>promise2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
        <span class="token comment">//创建promise对象，传入函数，转化为回调函数</span>
        <span class="token keyword">let</span> promise <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
            <span class="token comment">/* 
                这里的代码便是回调函数，其中：
                resolve是函数   在回调函数中如果调用该方法，状态会变为成功
                reject也是函数  在回调函数中如果调用该方法，状态会变为失败
                
                let promise = Promise.resolve("haha")	快速产生一个成功状态的promise
            */</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"function invoked"</span><span class="token punctuation">)</span>
            <span class="token comment">//调用resolve或者reject方法的时候还可以传参</span>
            <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">"haha"</span><span class="token punctuation">)</span>
            <span class="token comment">//reject()</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>

        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"other code1"</span><span class="token punctuation">)</span>

        <span class="token comment">//then当中的代码会专门等待promise的回调函数状态发生改变后才执行 </span>
        promise<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>
            <span class="token comment">//如果resolve方法传参了，可以在这里接收参数</span>
            <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>   <span class="token comment">//第一个方法参数是promise转化为成功状态后执行的函数</span>
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"promise success"</span><span class="token punctuation">)</span>
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>   <span class="token comment">//第二个方法参数是promise转化为失败状态后执行的函数</span>
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"promise fail"</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
            <span class="token comment">//then也会返回一个promise，而catch函数当中的方法是当promise成功失败状态出现异常时执行</span>
            <span class="token comment">//可以将promise处理失败的代码放在catch当中</span>
            <span class="token comment">//并且catch同样可以接收promise传过来的参数</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>

        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"other code2"</span><span class="token punctuation">)</span>
        
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="async-和-await-的使用"><a href="#async-和-await-的使用" class="headerlink" title="async 和 await 的使用"></a>async 和 await 的使用</h3><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>width=device-width, initial-scale=1.0<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>async<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    
        <span class="token comment">/* async 帮助我们使用简洁的语法获得一个promise对象
            原生写法: let promise = new Promise((resolve, reject)=&gt;{})
            async写法: async function 函数名() {}
                1.async 用于标识函数的，标识这个函数是回调函数 
                2.方法如果正常return结果，promise状态就是resolve，即状态成功
                3.方法中如果出现异常，则状态失败
                4.async函数返回的结果如果是一个promise，则状态由内部的promise决定
        */</span>
     
        <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">fun1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">//return 10</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">"something wrong"</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">let</span> promise <span class="token operator">=</span> <span class="token function">fun1</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

        promise<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>
            <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>   <span class="token comment">//返回值在这里接收</span>
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"success: "</span> <span class="token operator">+</span> value<span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span>
            <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"fail"</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">)</span>

    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>width=device-width, initial-scale=1.0<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>async<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    
        <span class="token comment">/* await 帮助我们获取promise成功状态的返回值的关键字
            1.await右边如果是一个普通值，则直接返回该值 let res = await "张三"
            2.如果右边是一个promise，则返回promise成功状态的结果 
                let res = await Promise.resovle("aaa")
                let res = "aaa"
            3.如果右边是一个失败状态的promise，那么await会直接抛异常
            4.await关键字必须在async修饰的函数中使用，async函数中可以没有await
            5.await后边的代码会等待await执行完毕继续运行
        */</span>
    
        <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">fun1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token number">10</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">fun2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">let</span> promise <span class="token operator">=</span> <span class="token function">fun1</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment">//fun1被async修饰，返回一个promise对象</span>
            <span class="token keyword">let</span> res <span class="token operator">=</span> <span class="token keyword">await</span> promise <span class="token comment">//await必须在async修饰下的函数中使用</span>

            <span class="token comment">//awati代替then拿到promise的返回值，是10</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"await got "</span> <span class="token operator">+</span> res<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>

        <span class="token comment">//调用fun2函数</span>
        <span class="token function">fun2</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>  
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="Axios"><a href="#Axios" class="headerlink" title="Axios"></a>Axios</h2><p>项目正式编写前需要运行 <code>npm install axios</code> 安装 Axios 依赖。</p>
<h3 id="基本使用"><a href="#基本使用" class="headerlink" title="基本使用"></a>基本使用</h3><p>随机土味情话网站：<a target="_blank" rel="noopener" href="https://api.uomg.com/api/rand.qinghua?format=json">https://api.uomg.com/api/rand.qinghua?format=json</a></p>
<p>API 测试网站：<a target="_blank" rel="noopener" href="https://httpbin.org/">https://httpbin.org</a></p>
<p>接下来使用 Axios 请求后台获取土味情话并打印到网页上。</p>
<pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;script setup&gt;
  //默认导入axios
  import axios from 'axios'
  import { ref } from 'vue'

  let message = ref("")

  //使用axios发送请求给后台获取信息
  async function change() {
    /* 
      设置请求参数
        1.请求的资源(url) url
        2.请求的方式  method
        3.请求的参数(键值对类型、json类型...) data
          如果请求方式是get，且使用params，则params中的数据会以键值对的形式放在url后
          如果请求方式是post，且使用data，则data中的数据会以json串的形式放入请求体中
    */
    let promise = axios({
      method:"get",
      url:"https://api.uomg.com/api/rand.qinghua?format=json",
      data:{},
      parmas:{username:"zhangsan"}
    })

    //使用await接收promise的返回值
    let res = await promise
    console.log(res)

    /* 
      res响应结果对象
        data 服务端响应回来的数据
        status 响应状态码 200
        statusText 响应状态描述 OK
        headers 本次响应的所有响应头
        config 本次请求的配置信息
        request 本次请求发送时所使用的XMLHttpRequest对象
    */

    message.value = res.data.content
  } 
&lt;/script&gt;

&lt;template&gt;
&lt;div&gt;
  &lt;h1&gt;{{ message }}&lt;/h1&gt;    
  &lt;button @click="change()"&gt;刷新&lt;/button&gt;
&lt;/div&gt;
&lt;/template&gt;

&lt;style scoped&gt;
&lt;/style&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="get-和-post-方法"><a href="#get-和-post-方法" class="headerlink" title="get 和 post 方法"></a>get 和 post 方法</h3><pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;script setup&gt;
  //默认导入axios
  import axios from 'axios'
  import { ref } from 'vue'

  let message = ref("")

  function init() {
    //发送get请求的方法
    //axios.get(url, {请求的配置信息})
    //axios.get(url, {params:{键值对参数}, header:{设置一些特殊的请求头}})
    return axios.get(
      "https://api.uomg.com/api/rand.qinghua?format=json", {
        params: {
          username:"zhangsan",
          userPwd:"123"
        },
        headers:{
          Accept:"application/json, text/plain, text/html, */*"
        }
      }
    )
  }

  function init2() {
    //发送post请求的方法
    //axios.post(url, {要放入请求体中的json串}, {请求的配置信息})
    return axios.post(
      "https://api.uomg.com/api/rand.qinghua", 
      {
        username:"lisi",
        userPwd:"456"
      },
      {
        params:{format:"json"},
        headers:{Accept:"application/json, text/plain, text/html, */*"}
      }
    )
  }

  async function change() {
    //let promise = init()
    //let res = await promise
    //let data = res.data

    //使用解构表达式直接拿出data属性
    let { data } = await init()
    message.value = data.content
  }
    
  // 另一种写法（常用）
  const userRegisterService = (registerData) =&gt; {
    // 借助于UrlSearchParams完成传递
    const params = new URLSearchParams()
    for (let key in registerData) {
        params.append(key, registerData[key])
    }
    return instance.post('/user/register', params)
  }
&lt;/script&gt;

&lt;template&gt;
&lt;div&gt;
  &lt;h1&gt;{{ message }}&lt;/h1&gt;    
  &lt;button @click="change()"&gt;刷新&lt;/button&gt;
&lt;/div&gt;
&lt;/template&gt;

&lt;style scoped&gt;
&lt;/style&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="基本配置"><a href="#基本配置" class="headerlink" title="基本配置"></a>基本配置</h3><p>axios 是用于异步请求的。其中，我们需要编写请求地址，但是我们发现网址的前半段是重复的，所以我们可以将这一部分抽取出来，配置到 axios 中。</p>
<p>创建 <code>axios.js</code> 文件：</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">'axios'</span>

<span class="token comment">//使用axios函数创建一个可以发送请求的实例对象</span>
<span class="token keyword">const</span> instance <span class="token operator">=</span> axios<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token comment">//设置请求的基础路径，以后的请求会在前面自动拼上这一串</span>
    <span class="token literal-property property">baseURL</span><span class="token operator">:</span><span class="token string">"https://api.uomg.com"</span><span class="token punctuation">,</span>
    <span class="token comment">//超时时间，如果超过这个时间服务器没响应，则报错</span>
    <span class="token literal-property property">timeout</span><span class="token operator">:</span><span class="token number">10000</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">//对外暴露instance，在App.vue中利用instance调用get、post方法</span>
<span class="token keyword">export</span> <span class="token punctuation">{</span> instance <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="请求和响应拦截器"><a href="#请求和响应拦截器" class="headerlink" title="请求和响应拦截器"></a>请求和响应拦截器</h3><p>如果想在 axios 发送请求前，或者是数据响应回来在执行 then 方法之前做一些额外的工作，可以通过拦截器完成。</p>
<p>当浏览器利用 axios 发送请求到服务端时，会经过请求拦截器，请求拦截器中有两个函数。其中一个是当请求无误时用来配置请求的信息的，另一个时当请求有误时返回异常的。</p>
<p>当服务端处理完信息把结果响应给客户但时，要经过响应拦截器，响应拦截器中也有两个函数。其中一个处理状态码为 200 时要执行的函数，另一个处理状态码不是 200 时要执行的函数。</p>
<p>创建新的 <code>request.js</code> 文件，在里面配置拦截器数据：</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">'axios'</span>

<span class="token keyword">const</span> instance <span class="token operator">=</span> axios<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">baseURL</span><span class="token operator">:</span><span class="token string">"https://api.uomg.com"</span><span class="token punctuation">,</span>
    <span class="token literal-property property">timeout</span><span class="token operator">:</span><span class="token number">10000</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">//设置请求拦截器，并设置其中的两个函数</span>
instance<span class="token punctuation">.</span>interceptors<span class="token punctuation">.</span>request<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>
    <span class="token punctuation">(</span><span class="token parameter">config</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"请求前拦截器"</span><span class="token punctuation">)</span>
        <span class="token comment">//设置请求头</span>
        config<span class="token punctuation">.</span>headers<span class="token punctuation">.</span>Accept<span class="token operator">=</span><span class="token string">"application/json, text/plain, text/html, */*"</span>

        <span class="token comment">//设置完毕之后，必须返回config</span>
        <span class="token keyword">return</span> config
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"请求前拦截器异常方法"</span><span class="token punctuation">)</span>
        <span class="token comment">//返回失败状态的promise</span>
        <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span><span class="token string">"something wrong"</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">)</span>

<span class="token comment">//设置响应拦截器，并设置其中两个函数</span>
instance<span class="token punctuation">.</span>interceptors<span class="token punctuation">.</span>response<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>
    <span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
        <span class="token comment">//处理响应数据，最终需要返回response</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"响应前的拦截器"</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> response
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"响应失败的拦截器"</span><span class="token punctuation">)</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span>
        <span class="token comment">//最终需要返回响应失败的promise</span>
        <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span><span class="token string">"something wrong"</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token punctuation">{</span> instance <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="浏览器同源禁止策略"><a href="#浏览器同源禁止策略" class="headerlink" title="浏览器同源禁止策略"></a>浏览器同源禁止策略</h3><p>当前端服务器和后端服务器不相同，并且前端需要发送请求给后端，让后端响应数据时，对于浏览器而言，请求来自于前端服务器，数据来自于后端服务器，浏览器会认为该数据不安全，会报错，这个就叫<strong>浏览器同源禁止策略</strong>。</p>
<p>一种解决方案是利用<strong>代理模式</strong>，即让前端服务器自己去后端服务器拉取数据然后再传递给浏览器。这样做的优点是代码稳健性强，但缺点便是会给前端服务器造成太大压力，性能较差。</p>
<p>另一种解决方案是让浏览器先给后端服务器发出一个预检请求，确认可以安全跨域。当后端向浏览器响应回可以跨域的信息时，客户端再正式发一个请求过去拿去数据。值得注意的是，预检请求在第一次发出之后可以不在接下来的一段时间重复发送，我们可以设置一个时间，超过了这个时间之后再去发一次预检请求。这样一来，我们需要在浏览器和后端服务器之间放置一个跨域过滤器，用于判断请求信息是否为跨域请求。</p>
<p>以下代码了解即可，实际开发当中跨域问题的处理在框架里只需要写注解即可。</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">cn<span class="token punctuation">.</span>hnu<span class="token punctuation">.</span>schedule<span class="token punctuation">.</span>filter</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">cn<span class="token punctuation">.</span>hnu<span class="token punctuation">.</span>schedule<span class="token punctuation">.</span>common<span class="token punctuation">.</span></span><span class="token class-name">Result</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">cn<span class="token punctuation">.</span>hnu<span class="token punctuation">.</span>schedule<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">WebUtil</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">jakarta<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">jakarta<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">WebFilter</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">jakarta<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletRequest</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">jakarta<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletResponse</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@WebFilter</span><span class="token punctuation">(</span><span class="token string">"/*"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CrosFilter</span> <span class="token keyword">implements</span> <span class="token class-name">Filter</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">doFilter</span><span class="token punctuation">(</span><span class="token class-name">ServletRequest</span> servletRequest<span class="token punctuation">,</span>
                         <span class="token class-name">ServletResponse</span> servletResponse<span class="token punctuation">,</span>
                         <span class="token class-name">FilterChain</span> filterChain<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span><span class="token punctuation">,</span> <span class="token class-name">ServletException</span> <span class="token punctuation">{</span>
        <span class="token class-name">HttpServletRequest</span> request <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span><span class="token punctuation">)</span> servletRequest<span class="token punctuation">;</span>
        <span class="token class-name">HttpServletResponse</span> response <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">HttpServletResponse</span><span class="token punctuation">)</span> servletResponse<span class="token punctuation">;</span>
        <span class="token comment">//设置响应头</span>
        <span class="token comment">//允许任何域进行跨域请求</span>
        response<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">"Access-Control-Allow-Origin"</span><span class="token punctuation">,</span> <span class="token string">"*"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//允许POST, GET等请求方式进行跨域</span>
        response<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">"Access-Control-Allow-Methods"</span><span class="token punctuation">,</span>
                <span class="token string">"POST, GET, PUT, OPTIONS, DELETE, HEAD"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//预检请求的有效时间是3600s</span>
        response<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">"Access-Control-Max-Age"</span><span class="token punctuation">,</span> <span class="token string">"3600"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        response<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">"Access-Control-Allow-Headers"</span><span class="token punctuation">,</span>
                <span class="token string">"access-control-allow-origin, authority, content-type, version-info, X-Requested-With"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//如果是跨域预检请求，则直接在此响应200状态码</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equalsIgnoreCase</span><span class="token punctuation">(</span><span class="token string">"OPTIONS"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">//向浏览器写出json串</span>
            <span class="token class-name">WebUtil</span><span class="token punctuation">.</span><span class="token function">writeJson</span><span class="token punctuation">(</span>response<span class="token punctuation">,</span> <span class="token class-name">Result</span><span class="token punctuation">.</span><span class="token function">ok</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token comment">//非预检请求，放行即可</span>
            filterChain<span class="token punctuation">.</span><span class="token function">doFilter</span><span class="token punctuation">(</span>servletRequest<span class="token punctuation">,</span> servletResponse<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="Pinia"><a href="#Pinia" class="headerlink" title="Pinia"></a>Pinia</h2><blockquote>
<p>当我们有多个组件共享一个共同状态（数据源）时，多个视图可能都依赖于同一份状态。来自不同视图的交互也可能需要更改同一份状态。虽然我们的手动状态管理解决方案（prop，组件间通信，模块化）在简单场景已经足够了，但是在大规模的生产应用中还有很多其他事项需要考虑：例如更强的团队协作约定，于 Vue DevTools 集成，包括时间轴，组件内部审查和时间旅行调试，模块热更新，服务端渲染支持等。Pinia 就是一个实现了上述需求的状态管理库，由 Vue 核心团队维护，对 Vue2 和 Vue3 可用。</p>
</blockquote>
<p>在实际开发当中，我们可以利用 Pinia 定义多个公共的共享数据，默认均为响应式数据，这样一来，不同组件就可以使用这些响应式数据了（有点类似于后端的 Session 域对象）。但是光靠 Pinia 本身是无法对数据进行持久化存储的，意味着假设利用 Pinia 进行存储，在浏览器上刷新之后这些存储的数据就会被清空掉。故我们还需要结合 SessionStorage 和 LocalStorage 解决上述无法持久化存储的问题。</p>
<h3 id="基本使用-1"><a href="#基本使用-1" class="headerlink" title="基本使用"></a>基本使用</h3><p>开始创建项目之前我们需要执行 <code>npm install pinia</code> 命令安装对应依赖。</p>
<p>在 <code>src</code> 中创建一个 <code>store</code> 目录，然后创建一个 <code>store.js</code> 文件：</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">/* 定义共享的pinia数据 */</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> defineStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'pinia'</span>

<span class="token comment">//定义一个person对外共享</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> definedPerson <span class="token operator">=</span> <span class="token function">defineStore</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">id</span><span class="token operator">:</span><span class="token string">"personPinia"</span><span class="token punctuation">,</span>  <span class="token comment">//当前数据的id必须全局唯一，意味着其他store文件里面不能有id重复</span>
    <span class="token function-variable function">state</span><span class="token operator">:</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span><span class="token comment">//表示状态，其实就是响应式数据，return里面的数据才是最终要使用的数据</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token literal-property property">username</span><span class="token operator">:</span><span class="token string">"zhangsan"</span><span class="token punctuation">,</span> <span class="token literal-property property">age</span><span class="token operator">:</span><span class="token number">18</span><span class="token punctuation">,</span> <span class="token literal-property property">hobbies</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">"唱歌"</span><span class="token punctuation">,</span> <span class="token string">"跳舞"</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>   
    <span class="token literal-property property">getters</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token comment">//类似于javabean中的getter，不过最终是以属性值的方式呈现出来</span>
        <span class="token function-variable function">getAge</span><span class="token operator">:</span><span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span><span class="token keyword">return</span> state<span class="token punctuation">.</span>age<span class="token punctuation">}</span><span class="token punctuation">,</span>	<span class="token comment">//如果是箭头函数，无法使用this的情况下可以使用state</span>
        <span class="token function">getHobbyCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>hobbies<span class="token punctuation">.</span>length<span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">actions</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token comment">//类似于javabean中的setter</span>
        <span class="token function">doubleAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">*=</span> <span class="token number">2</span><span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>在 <code>main.js</code> 中需要使用 pinia：</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">import</span> <span class="token punctuation">{</span> createApp <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>

<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">'./App.vue'</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span> router <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./routers/router.js'</span>

<span class="token comment">//开启全局的pinia功能</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> createPinia <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'pinia'</span>
<span class="token keyword">let</span> pinia <span class="token operator">=</span> <span class="token function">createPinia</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">//使用pinia</span>
<span class="token function">createApp</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>router<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>pinia<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">mount</span><span class="token punctuation">(</span><span class="token string">'#app'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>在组件 <code>.vue</code> 文件中使用 pinia 中定义的数据：</p>
<pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;script setup&gt;
  //导入pinia数据
  import { definedPerson } from '../store/store.js'
  //获得共享数据
  let person = definedPerson()
&lt;/script&gt;

&lt;template&gt;
&lt;div&gt;
    &lt;h1&gt;用于修改pinia数据&lt;/h1&gt;
    {{ person }}
&lt;/div&gt;
&lt;/template&gt;

&lt;style scoped&gt;
&lt;/style&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="setup-语法糖"><a href="#setup-语法糖" class="headerlink" title="setup 语法糖"></a>setup 语法糖</h3><p>上面的基本写法真的是太折磨人了，写起来很别扭，所以，利用 setup 语法糖可以让代码更加简洁。在 setup 语法糖中：ref 就是 state 属性；computed 计算属性就是 getters；function 就是 actions。</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">import</span> <span class="token punctuation">{</span> defineStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'pinia'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> computed<span class="token punctuation">,</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> useMoneyStore <span class="token operator">=</span> <span class="token function">defineStore</span><span class="token punctuation">(</span><span class="token string">'money'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// 属性</span>
    <span class="token keyword">const</span> money <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span>
    <span class="token comment">// getters</span>
    <span class="token keyword">const</span> rmb <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> money<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
    <span class="token keyword">const</span> usd <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> money<span class="token punctuation">.</span>value <span class="token operator">*</span> <span class="token number">0.14</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> eur <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> money<span class="token punctuation">.</span>value <span class="token operator">*</span> <span class="token number">0.13</span><span class="token punctuation">)</span>

    <span class="token comment">// setters</span>
    <span class="token keyword">const</span> <span class="token function-variable function">win</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">arg</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        money<span class="token punctuation">.</span>value <span class="token operator">+=</span> arg
    <span class="token punctuation">}</span>
    <span class="token keyword">const</span> <span class="token function-variable function">pay</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">arg</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        money<span class="token punctuation">.</span>value <span class="token operator">-=</span> arg
    <span class="token punctuation">}</span>

    <span class="token comment">// 返回给外界使用</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>money <span class="token punctuation">,</span> rmb<span class="token punctuation">,</span> usd<span class="token punctuation">,</span> eur<span class="token punctuation">,</span> win<span class="token punctuation">,</span> pay<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> 
<span class="token punctuation">{</span>
    <span class="token literal-property property">persist</span><span class="token operator">:</span> <span class="token boolean">true</span>	<span class="token comment">// 持久化存储（见pinia持久化一小节）</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="在路由文件中使用"><a href="#在路由文件中使用" class="headerlink" title="在路由文件中使用"></a>在路由文件中使用</h3><p>在路由文件中使用 Pinia，我们需要对外提供一个 pinia 对象，然后使用这个对象在路由文件中创建对应的共享数据。</p>
<p>在 <code>src</code> 目录中创建 <code>pinia.js</code> 文件，对外暴露 pinia 对象：</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">//开启pinia</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> createPinia <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'pinia'</span>

<span class="token keyword">let</span> pinia <span class="token operator">=</span> <span class="token function">createPinia</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> pinia<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>路由文件中使用 pinia 对象来创建共享数据：</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">//...</span>

<span class="token comment">//导入pinia相关文件和函数</span>
<span class="token keyword">import</span> pinia <span class="token keyword">from</span> <span class="token string">'../pinia.js'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> defineUser <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'../store/userStore.js'</span>

<span class="token comment">//创建共享数据时需要额外填入pinia对象</span>
<span class="token keyword">let</span> sysUser <span class="token operator">=</span> <span class="token function">defineUser</span><span class="token punctuation">(</span>pinia<span class="token punctuation">)</span>

<span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token function">createRouter</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
   <span class="token comment">//...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token punctuation">{</span> router <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="常见-API"><a href="#常见-API" class="headerlink" title="常见 API"></a>常见 API</h3><pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;script setup&gt;
  //导入pinia数据
  import { definedPerson } from '../store/store.js'
  //获得共享数据
  let person = definedPerson()
&lt;/script&gt;

&lt;template&gt;
&lt;div&gt;
    &lt;h1&gt;用于修改pinia数据&lt;/h1&gt;
    名字: &lt;input type="text" v-model="person.username"&gt;&lt;br&gt;
    年龄: &lt;input type="text" v-model="person.age"&gt;&lt;br&gt;
    爱好: &lt;br&gt;
        &lt;input type="checkbox" value="吃饭" v-model="person.hobbies"&gt;吃饭&lt;br&gt;
        &lt;input type="checkbox" value="睡觉" v-model="person.hobbies"&gt;睡觉&lt;br&gt;
        &lt;input type="checkbox" value="唱歌" v-model="person.hobbies"&gt;唱歌&lt;br&gt;
        &lt;input type="checkbox" value="跳舞" v-model="person.hobbies"&gt;跳舞&lt;br&gt;
        &lt;input type="checkbox" value="rap" v-model="person.hobbies"&gt;rap&lt;br&gt;
    &lt;button @click="person.doubleAge()"&gt;年龄加倍&lt;/button&gt;
    &lt;!-- 调用$reset方法恢复默认值 --&gt;
    &lt;button @click="person.$reset()"&gt;恢复默认值&lt;/button&gt;
    &lt;!-- 调用$patch方法一次性修改多个属性值 --&gt;
    &lt;button @click="person.$patch({username:'热心市民灰灰', age:19, hobbies:['写代码']})"&gt;变身&lt;/button&gt;
    &lt;hr&gt;
    {{ person }}
&lt;/div&gt;
&lt;/template&gt;

&lt;style scoped&gt;
&lt;/style&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="pinia-持久化"><a href="#pinia-持久化" class="headerlink" title="pinia 持久化"></a>pinia 持久化</h3><p>Pinia 默认是<strong>内存存储</strong>，当刷新浏览器的时候会丢失数据。我们可以使用插件 Persist 将 pinia 中的数据持久化的存储起来。</p>
<p>安装 Persist 插件：<code>npm install pinia-persistedstate-plugin</code>。</p>
<p>接下来，在 pinia 中使用插件（<code>main.js</code> 文件中进行编码）：</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">import</span> <span class="token punctuation">{</span> createPersistedState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"pinia-persistedstate-plugin"</span>

<span class="token keyword">const</span> pinia <span class="token operator">=</span> <span class="token function">createPinia</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> persist <span class="token operator">=</span> <span class="token function">createPersistedState</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

pinia<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>persist<span class="token punctuation">)</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>pinia<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>然后定义状态 store 时指定持久化配置参数：</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">export</span> <span class="token keyword">const</span> useTokenStore <span class="token operator">=</span> <span class="token function">defineStore</span><span class="token punctuation">(</span><span class="token string">'token'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// 定义状态内容</span>
    <span class="token comment">// 响应式变量</span>
    <span class="token keyword">const</span> token <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span>

    <span class="token comment">// setters</span>
    <span class="token keyword">const</span> <span class="token function-variable function">setToken</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">newToken</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        token<span class="token punctuation">.</span>value <span class="token operator">=</span> newToken
    <span class="token punctuation">}</span>
    <span class="token keyword">const</span> <span class="token function-variable function">removeToken</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        token<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">''</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> <span class="token punctuation">{</span>token<span class="token punctuation">,</span> setToken<span class="token punctuation">,</span> removeToken<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> 
<span class="token punctuation">{</span>
    <span class="token literal-property property">persist</span><span class="token operator">:</span> <span class="token boolean">true</span>	<span class="token comment">// 持久化存储</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="Element-plus"><a href="#Element-plus" class="headerlink" title="Element-plus"></a>Element-plus</h2><blockquote>
<p>Element Plus 是一套基于 Vue3 的开源 UI 组件库，是由饿了么前端团队开发的升级版本的 Element UI。Element Plus 提供了丰富的 UI 组件（Element UI 组件库是针对于 Vue2 开发的），易于使用的 API 接口和灵活的主题定制功能，可以帮助开发者快速构建高质量的 Web 应用程序。</p>
</blockquote>
<p>Element Plus 目前已经推出了大量的常用 UI 组件，如按钮、表单、表格、对话框、选项卡等，此外还提供了一些高级组件，如日期选择器、时间选择器、级联选择器、滑块、颜色选择器等。这些组件具有一致的设计和可靠的代码质量，可以为开发者提供稳定的使用体验。官网<a target="_blank" rel="noopener" href="https://element-plus.gitee.io/zh-CN/">戳我</a>。</p>
<h3 id="入门案例"><a href="#入门案例" class="headerlink" title="入门案例"></a>入门案例</h3><p>在使用前需要利用 <code>npm install element-plus</code> 命令安装对应依赖。</p>
<p><code>main.ts</code> 配置如下：</p>
<pre class="line-numbers language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">{</span> createApp <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>

<span class="token comment">//导入element-plus相关内容</span>
<span class="token keyword">import</span> ElementPlus <span class="token keyword">from</span> <span class="token string">'element-plus'</span>
<span class="token keyword">import</span> <span class="token string">'element-plus/dist/index.css'</span>

<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">'./App.vue'</span>

<span class="token comment">//使用ElementPlus</span>
<span class="token function">createApp</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>ElementPlus<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">mount</span><span class="token punctuation">(</span><span class="token string">'#app'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>接下来，在组件文件中，我们只需要去网站上面复制相关源代码即可。较常用的组件包括但不限于：按钮、图标、提示框、导航、标签页、输入框、单选框、复选框、下拉框、日期选择器、表单、对话框、分页、表格……</p>
<h3 id="其他组件库"><a href="#其他组件库" class="headerlink" title="其他组件库"></a>其他组件库</h3><p>Ant Designed Vue：<a target="_blank" rel="noopener" href="https://www.antdv.com/">https://www.antdv.com/</a></p>
<p>Naive UI：<a target="_blank" rel="noopener" href="http://www.naiveui.com/">www.naiveui.com</a></p>
<h2 id="Apache-ECharts"><a href="#Apache-ECharts" class="headerlink" title="Apache ECharts"></a>Apache ECharts</h2><p>Apache ECharts 是一款基于 Javascript 的数据可视化图表库，提供直观，生动，可交互，可个性化定制的数据可视化图表。</p>
<p>官方地址<a target="_blank" rel="noopener" href="https://echarts.apache.org/zh/index.html">戳我</a>。</p>
<h2 id="前后端分离总结"><a href="#前后端分离总结" class="headerlink" title="前后端分离总结"></a>前后端分离总结</h2><h3 id="初始环境准备"><a href="#初始环境准备" class="headerlink" title="初始环境准备"></a>初始环境准备</h3><p>在 src 目录下，asserts 目录是用来存放静态资源的（包括 css 样式，所需要的图片资源等）；新建 api 目录用来封装各种请求函数；新建 util 目录用来存放 <code>reqeust.js</code>（配置 axios 的拦截器）；新建 views 目录用来存放各种页面。</p>
<h3 id="表单提交"><a href="#表单提交" class="headerlink" title="表单提交"></a>表单提交</h3><p>前端经常使用到的就是表单提交，在使用 Element-Plus 组件的前提下，用 <code>el-form</code> 进行表单处理。在使用表单的时候，需要结合接口文档，先声明数据模型。例如，注册页面的所需要的数据模型如下：</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// 定义数据模型</span>
<span class="token keyword">const</span> registerData <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">username</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
  <span class="token literal-property property">password</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
  <span class="token literal-property property">rePassword</span><span class="token operator">:</span> <span class="token string">''</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>然后不要忘了根据数据模型中的各种参数，进行<strong>表单参数校验</strong>：</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// 自定义校验规则</span>
<span class="token keyword">const</span> <span class="token function-variable function">validatePass</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">rule<span class="token punctuation">,</span> value<span class="token punctuation">,</span> callback</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token operator">===</span> <span class="token string">''</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">callback</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'请再次输入密码'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token operator">!==</span> registerData<span class="token punctuation">.</span>value<span class="token punctuation">.</span>password<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">callback</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'两次密码输入不一致'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token function">callback</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 定义表单校验规则</span>
<span class="token keyword">const</span> rules <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">username</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span><span class="token literal-property property">required</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">'请输入用户名'</span><span class="token punctuation">,</span> <span class="token literal-property property">trigger</span><span class="token operator">:</span> <span class="token string">'blur'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token literal-property property">min</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token literal-property property">max</span><span class="token operator">:</span> <span class="token number">16</span><span class="token punctuation">,</span> <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">'长度为5-16非空字符'</span><span class="token punctuation">,</span> <span class="token literal-property property">trigger</span><span class="token operator">:</span> <span class="token string">'blur'</span><span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">password</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span><span class="token literal-property property">required</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">'请输入密码'</span><span class="token punctuation">,</span> <span class="token literal-property property">trigger</span><span class="token operator">:</span> <span class="token string">'blur'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token literal-property property">min</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token literal-property property">max</span><span class="token operator">:</span> <span class="token number">16</span><span class="token punctuation">,</span> <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">'长度为5-16非空字符'</span><span class="token punctuation">,</span> <span class="token literal-property property">trigger</span><span class="token operator">:</span> <span class="token string">'blur'</span><span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">rePassword</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span><span class="token literal-property property">validator</span><span class="token operator">:</span> validatePass<span class="token punctuation">,</span> <span class="token literal-property property">trigger</span><span class="token operator">:</span> <span class="token string">'blur'</span><span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="跨域问题"><a href="#跨域问题" class="headerlink" title="跨域问题"></a>跨域问题</h3><p>由于<strong>浏览器</strong>的同源策略限制，向不同源（不同协议、不同域名、不同端口）发送 ajax 请求失败。前端服务端口设置在 5173，后端服务端口设置在 8080。当浏览器启动服务时，先向 5173 请求一个注册页面，当我们点击注册按钮时，5173 端口发送 ajax 请求向 8080 请求服务，这个时候对于浏览器来讲就是不同源了。</p>
<p>跨域问题一般使用<strong>配置代理</strong>解决。即我们发送请求依旧是向 5173，然后再让 5173 把请求转发到 8080。注意：<strong>跨域是针对浏览器而言的，只有浏览器才有同源禁止策略</strong>。</p>
<p>在 <code>reqeust.js</code> 中更改 <code>baseURL</code> 地址：</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> instance <span class="token operator">=</span> axios<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token comment">// baseURL: 'http://localhost:8023',</span>
    <span class="token comment">// 更改baseURL</span>
    <span class="token literal-property property">baseURL</span><span class="token operator">:</span> <span class="token string">'/api'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">timeout</span><span class="token operator">:</span> <span class="token number">10000</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>然后更改 <code>vite.config.js</code> 文件进行请求转发：</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// https://vitejs.dev/config/</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token function">vue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">resolve</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">alias</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">'@'</span><span class="token operator">:</span> <span class="token function">fileURLToPath</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">URL</span><span class="token punctuation">(</span><span class="token string">'./src'</span><span class="token punctuation">,</span> <span class="token keyword">import</span><span class="token punctuation">.</span>meta<span class="token punctuation">.</span>url<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">server</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">proxy</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token comment">// 获取路径中包含/api的请求</span>
      <span class="token string-property property">'/api'</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">target</span><span class="token operator">:</span> <span class="token string">'http://localhost:8023'</span><span class="token punctuation">,</span>  <span class="token comment">// 后台服务所在的源</span>
        <span class="token literal-property property">changeOrigin</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>               <span class="token comment">// 修改源</span>
        <span class="token function-variable function">rewrite</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">path</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> path<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^\/api</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span> <span class="token comment">// 将/api替换为空字符串</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="优化-axios-拦截器"><a href="#优化-axios-拦截器" class="headerlink" title="优化 axios 拦截器"></a>优化 axios 拦截器</h3><p>我们在实现各种服务接口的时候，我们经常需要去处理响应回来的数据。并且，在发送请求的时候，我们常常需要携带 token。结合上述的跨域问题，我们不妨直接配置一个 axios 拦截器，帮助我们进行数据的处理：</p>
<p><code>request.js</code> 如下：</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">'axios'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> ElMessage <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'element-plus'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> useTokenStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"@/stores/token.js"</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> router <span class="token keyword">from</span> <span class="token string">'@/router/router.js'</span>	<span class="token comment">// 注意这里的导入方式，不能使用useRouter</span>

<span class="token keyword">const</span> instance <span class="token operator">=</span> axios<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token comment">// baseURL: 'http://localhost:8023',</span>
    <span class="token comment">// 更改baseURL</span>
    <span class="token literal-property property">baseURL</span><span class="token operator">:</span> <span class="token string">'/api'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">timeout</span><span class="token operator">:</span> <span class="token number">10000</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// 设置响应拦截器</span>
instance<span class="token punctuation">.</span>interceptors<span class="token punctuation">.</span>response<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>
    <span class="token comment">// 判断业务状态码</span>
    <span class="token parameter">response</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        
        <span class="token comment">// 如果响应是文件流，直接返回响应</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>response<span class="token punctuation">.</span>config<span class="token punctuation">.</span>responseType <span class="token operator">===</span> <span class="token string">'blob'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> response<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        
        <span class="token comment">// 操作成功</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>response<span class="token punctuation">.</span>data<span class="token punctuation">.</span>code <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> response<span class="token punctuation">.</span>data
        <span class="token punctuation">}</span>

        <span class="token comment">// 操作失败</span>
        <span class="token comment">// alert(response.data.message ? response.data.message : '服务异常')</span>
        <span class="token function">ElMessage</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            <span class="token literal-property property">message</span><span class="token operator">:</span> response<span class="token punctuation">.</span>data<span class="token punctuation">.</span>message <span class="token operator">?</span> response<span class="token punctuation">.</span>data<span class="token punctuation">.</span>message <span class="token operator">:</span> <span class="token string">'服务异常'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'error'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">plain</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            <span class="token literal-property property">showClose</span><span class="token operator">:</span> <span class="token boolean">true</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>data<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token parameter">error</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token comment">// 判断响应状态码如果为401，则证明未登录</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>error<span class="token punctuation">.</span>response<span class="token punctuation">.</span>status <span class="token operator">===</span> <span class="token number">401</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">ElMessage</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
                <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">'请先登录'</span><span class="token punctuation">,</span>
                <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'error'</span><span class="token punctuation">,</span>
                <span class="token literal-property property">plain</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
                <span class="token literal-property property">showClose</span><span class="token operator">:</span> <span class="token boolean">true</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
            router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'/login'</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token function">ElMessage</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
                <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">'服务异常'</span><span class="token punctuation">,</span>
                <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'error'</span><span class="token punctuation">,</span>
                <span class="token literal-property property">plain</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
                <span class="token literal-property property">showClose</span><span class="token operator">:</span> <span class="token boolean">true</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">)</span>

<span class="token comment">// 设置请求拦截器</span>
instance<span class="token punctuation">.</span>interceptors<span class="token punctuation">.</span>request<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>
    <span class="token comment">// 请求前的回调</span>
    <span class="token punctuation">(</span><span class="token parameter">config</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token comment">// 添加token</span>
        <span class="token keyword">const</span> tokenStore <span class="token operator">=</span> <span class="token function">useTokenStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>tokenStore<span class="token punctuation">.</span>token<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 如果有token则添加token</span>
            config<span class="token punctuation">.</span>headers<span class="token punctuation">.</span>Authorization <span class="token operator">=</span> tokenStore<span class="token punctuation">.</span>token
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> config
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// 请求错误的回调</span>
    <span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        Promise<span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> instance<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>需要准备好 pinia 状态管理库，对 token 进行管理：</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">import</span> <span class="token punctuation">{</span> defineStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'pinia'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> computed<span class="token punctuation">,</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> useTokenStore <span class="token operator">=</span> <span class="token function">defineStore</span><span class="token punctuation">(</span><span class="token string">'token'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// 定义状态内容</span>
    <span class="token comment">// 响应式变量</span>
    <span class="token keyword">const</span> token <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span>

    <span class="token comment">// setters</span>
    <span class="token keyword">const</span> <span class="token function-variable function">setToken</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">newToken</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        token<span class="token punctuation">.</span>value <span class="token operator">=</span> newToken
    <span class="token punctuation">}</span>
    <span class="token keyword">const</span> <span class="token function-variable function">removeToken</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        token<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">''</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> <span class="token punctuation">{</span>token<span class="token punctuation">,</span> setToken<span class="token punctuation">,</span> removeToken<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>服务接口函数只需要接收然后弹出提示即可：</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> tokenStore <span class="token operator">=</span> <span class="token function">useTokenStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">// ---登录表单---</span>
<span class="token comment">// 复用注册表单的数据模型</span>
<span class="token keyword">const</span> <span class="token function-variable function">login</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">userLoginService</span><span class="token punctuation">(</span>registerData<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
  <span class="token comment">// 设置token</span>
  tokenStore<span class="token punctuation">.</span><span class="token function">setToken</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span>data<span class="token punctuation">)</span>
  <span class="token comment">// alert(result.message ? result.message : '登录成功')</span>
  <span class="token function">ElMessage</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">message</span><span class="token operator">:</span> result<span class="token punctuation">.</span>message <span class="token operator">?</span> result<span class="token punctuation">.</span>message <span class="token operator">:</span> <span class="token string">'登录成功'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'success'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">plain</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token literal-property property">showClose</span><span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>而其他的请求也仅仅只是直接发送即可，没必要再额外向请求头中添加 token 信息了：</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// 文章分类列表查询</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">articleCategoryListService</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> instance<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/category'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>


                
            </div>
            <hr/>

            

    <div class="reprint" id="reprint-statement">
        
            <div class="reprint__author">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-user">
                        文章作者:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="/about" rel="external nofollow noreferrer">热心市民灰灰</a>
                </span>
            </div>
            <div class="reprint__type">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-link">
                        文章链接:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="http://example.com/2024/05/26/vue/">http://example.com/2024/05/26/vue/</a>
                </span>
            </div>
            <div class="reprint__notice">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-copyright">
                        版权声明:
                    </i>
                </span>
                <span class="reprint-info">
                    本博客所有文章除特別声明外，均采用
                    <a href="https://creativecommons.org/licenses/by/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a>
                    许可协议。转载请注明来源
                    <a href="/about" target="_blank">热心市民灰灰</a>
                    !
                </span>
            </div>
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>复制成功，请遵循本文的转载规则</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">查看</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>



            <div class="tag_share" style="display: block;">
                <div class="post-meta__tag-list" style="display: inline-block;">
                    
                        <div class="article-tag">
                            
                                <a href="/tags/Vue/">
                                    <span class="chip bg-color">Vue</span>
                                </a>
                            
                        </div>
                    
                </div>
                <div class="post_share" style="zoom: 80%; width: fit-content; display: inline-block; float: right; margin: -0.15rem 0;">
                    <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">
<div id="article-share">

    
    <div class="social-share" data-sites="twitter,facebook,google,qq,qzone,wechat,weibo,douban,linkedin" data-wechat-qrcode-helper="<p>微信扫一扫即可分享！</p>"></div>
    <script src="/libs/share/js/social-share.min.js"></script>
    

    

</div>

                </div>
            </div>
            
        </div>
    </div>

    

    

    

    

    

    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fas fa-chevron-left"></i>&nbsp;上一篇</div>
            <div class="card">
                <a href="/2024/06/28/wei-xin-xiao-cheng-xu/">
                    <div class="card-image">
                        
                        <img src="/medias/loading.gif" data-original="/medias/featureimages/WeChat.jpg" class="responsive-img" alt="微信小程序">
                        
                        <span class="card-title">微信小程序</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            微信小程序开发基础内容
                        
                    </div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="far fa-clock fa-fw icon-date"></i>2024-06-28
                        </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/WeChat/" class="post-category">
                                    WeChat
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91/">
                        <span class="chip bg-color">微信小程序开发</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                下一篇&nbsp;<i class="fas fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/2024/05/21/redis/">
                    <div class="card-image">
                        
                        <img src="/medias/loading.gif" data-original="/medias/featureimages/Redis.jpg" class="responsive-img" alt="Redis">
                        
                        <span class="card-title">Redis</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            Redis相关内容
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2024-05-21
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/Redis/" class="post-category">
                                    Redis
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/Redis/">
                        <span class="chip bg-color">Redis</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
    </div>
</article>

</div>



<!-- 代码块功能依赖 -->
<script type="text/javascript" src="/libs/codeBlock/codeBlockFuction.js"></script>

<!-- 代码语言 -->

<script type="text/javascript" src="/libs/codeBlock/codeLang.js"></script>


<!-- 代码块复制 -->

<script type="text/javascript" src="/libs/codeBlock/codeCopy.js"></script>


<!-- 代码块收缩 -->

<script type="text/javascript" src="/libs/codeBlock/codeShrink.js"></script>


    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget card" style="background-color: white;">
            <div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;目录</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fas fa-list-ul"></i>
    </a>
</div>


<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number('0'),
            headingSelector: 'h2, h3, h4'
        });

        // modify the toc link href to support Chinese.
        let i = 0;
        let tocHeading = 'toc-heading-';
        $('#toc-content a').each(function () {
            $(this).attr('href', '#' + tocHeading + (++i));
        });

        // modify the heading title id to support Chinese.
        i = 0;
        $('#articleContent').children('h2, h3, h4').each(function () {
            $(this).attr('id', tocHeading + (++i));
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>

    

</main>




    <footer class="page-footer bg-color">
    
        <link rel="stylesheet" href="/libs/aplayer/APlayer.min.css">
<style>
    .aplayer .aplayer-lrc p {
        
        display: none;
        
        font-size: 12px;
        font-weight: 700;
        line-height: 16px !important;
    }

    .aplayer .aplayer-lrc p.aplayer-lrc-current {
        
        display: none;
        
        font-size: 15px;
        color: #42b983;
    }

    
    .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body {
        left: -66px !important;
    }

    .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body:hover {
        left: 0px !important;
    }

    
</style>
<div class="">
    
    <div class="row">
        <meting-js class="col l8 offset-l2 m10 offset-m1 s12"
                   server="netease"
                   type="playlist"
                   id="2106933454"
                   fixed='true'
                   autoplay='false'
                   theme='#42b983'
                   loop='all'
                   order='random'
                   preload='auto'
                   volume='0.7'
                   list-folded='true'
        >
        </meting-js>
    </div>
</div>

<script src="/libs/aplayer/APlayer.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/meting@2/dist/Meting.min.js"></script>

    
    <div class="container row center-align" style="margin-bottom: 15px !important;">
        <div class="col s12 m8 l8 copy-right">
            Copyright&nbsp;&copy;
            
                <span id="year">2023-2024</span>
            
            <span id="year">2023</span>
            <a href="/about" target="_blank">热心市民灰灰</a>
            |&nbsp;Powered by&nbsp;<a href="https://hexo.io/" target="_blank">Hexo</a>
            |&nbsp;Theme&nbsp;<a href="https://github.com/blinkfox/hexo-theme-matery" target="_blank">Matery</a>
            <br>
            
            &nbsp;<i class="fas fa-chart-area"></i>&nbsp;站点总字数:&nbsp;<span
                class="white-color">372.9k</span>&nbsp;字
            
            
            
            
            
            
            <span id="busuanzi_container_site_pv">
                |&nbsp;<i class="far fa-eye"></i>&nbsp;总访问量:&nbsp;<span id="busuanzi_value_site_pv"
                    class="white-color"></span>&nbsp;次
            </span>
            
            
            <span id="busuanzi_container_site_uv">
                |&nbsp;<i class="fas fa-users"></i>&nbsp;总访问人数:&nbsp;<span id="busuanzi_value_site_uv"
                    class="white-color"></span>&nbsp;人
            </span>
            
            <br>
            
            <span id="sitetime">载入运行时间...</span>
            <script>
                function siteTime() {
                    var seconds = 1000;
                    var minutes = seconds * 60;
                    var hours = minutes * 60;
                    var days = hours * 24;
                    var years = days * 365;
                    var today = new Date();
                    var startYear = "2023";
                    var startMonth = "8";
                    var startDate = "8";
                    var startHour = "0";
                    var startMinute = "0";
                    var startSecond = "0";
                    var todayYear = today.getFullYear();
                    var todayMonth = today.getMonth() + 1;
                    var todayDate = today.getDate();
                    var todayHour = today.getHours();
                    var todayMinute = today.getMinutes();
                    var todaySecond = today.getSeconds();
                    var t1 = Date.UTC(startYear, startMonth, startDate, startHour, startMinute, startSecond);
                    var t2 = Date.UTC(todayYear, todayMonth, todayDate, todayHour, todayMinute, todaySecond);
                    var diff = t2 - t1;
                    var diffYears = Math.floor(diff / years);
                    var diffDays = Math.floor((diff / days) - diffYears * 365);
                    var diffHours = Math.floor((diff - (diffYears * 365 + diffDays) * days) / hours);
                    var diffMinutes = Math.floor((diff - (diffYears * 365 + diffDays) * days - diffHours * hours) /
                        minutes);
                    var diffSeconds = Math.floor((diff - (diffYears * 365 + diffDays) * days - diffHours * hours -
                        diffMinutes * minutes) / seconds);
                    if (startYear == todayYear) {
                        document.getElementById("year").innerHTML = todayYear;
                        document.getElementById("sitetime").innerHTML = "本站竟然运行了 " + diffDays + " 天 " + diffHours +
                            " 小时 " + diffMinutes + " 分钟 " + diffSeconds + " 秒";
                    } else {
                        document.getElementById("year").innerHTML = startYear + " - " + todayYear;
                        document.getElementById("sitetime").innerHTML = "本站竟然运行了 " + diffYears + " 年 " + diffDays +
                            " 天 " + diffHours + " 小时 " + diffMinutes + " 分钟 " + diffSeconds + " 秒";
                    }
                }
                setInterval(siteTime, 1000);
            </script>
            
            <br>
            
        </div>
        <div class="col s12 m4 l4 social-link social-statis">
    <a href="https://github.com/n70huihui" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50">
        <i class="fab fa-github"></i>
    </a>



    <a href="mailto:2744136107@qq.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
        <i class="fas fa-envelope-open"></i>
    </a>







    <a href="tencent://AddContact/?fromId=50&fromSubId=1&subcmd=all&uin=2744136107" class="tooltipped" target="_blank" data-tooltip="QQ联系我: 2744136107" data-position="top" data-delay="50">
        <i class="fab fa-qq"></i>
    </a>







    <a href="/atom.xml" class="tooltipped" target="_blank" data-tooltip="RSS 订阅" data-position="top" data-delay="50">
        <i class="fas fa-rss"></i>
    </a>

</div>
    </div>
</footer>

<div class="progress-bar"></div>


    <!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;搜索</span>
            <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script type="text/javascript">
$(function () {
    var searchFunc = function (path, search_id, content_id) {
        'use strict';
        $.ajax({
            url: path,
            dataType: "xml",
            success: function (xmlResponse) {
                // get the contents from search data
                var datas = $("entry", xmlResponse).map(function () {
                    return {
                        title: $("title", this).text(),
                        content: $("content", this).text(),
                        url: $("url", this).text()
                    };
                }).get();
                var $input = document.getElementById(search_id);
                var $resultContent = document.getElementById(content_id);
                $input.addEventListener('input', function () {
                    var str = '<ul class=\"search-result-list\">';
                    var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
                    $resultContent.innerHTML = "";
                    if (this.value.trim().length <= 0) {
                        return;
                    }
                    // perform local searching
                    datas.forEach(function (data) {
                        var isMatch = true;
                        var data_title = data.title.trim().toLowerCase();
                        var data_content = data.content.trim().replace(/<[^>]+>/g, "").toLowerCase();
                        var data_url = data.url;
                        data_url = data_url.indexOf('/') === 0 ? data.url : '/' + data_url;
                        var index_title = -1;
                        var index_content = -1;
                        var first_occur = -1;
                        // only match artiles with not empty titles and contents
                        if (data_title !== '' && data_content !== '') {
                            keywords.forEach(function (keyword, i) {
                                index_title = data_title.indexOf(keyword);
                                index_content = data_content.indexOf(keyword);
                                if (index_title < 0 && index_content < 0) {
                                    isMatch = false;
                                } else {
                                    if (index_content < 0) {
                                        index_content = 0;
                                    }
                                    if (i === 0) {
                                        first_occur = index_content;
                                    }
                                }
                            });
                        }
                        // show search results
                        if (isMatch) {
                            str += "<li><a href='" + data_url + "' class='search-result-title'>" + data_title + "</a>";
                            var content = data.content.trim().replace(/<[^>]+>/g, "");
                            if (first_occur >= 0) {
                                // cut out 100 characters
                                var start = first_occur - 20;
                                var end = first_occur + 80;
                                if (start < 0) {
                                    start = 0;
                                }
                                if (start === 0) {
                                    end = 100;
                                }
                                if (end > content.length) {
                                    end = content.length;
                                }
                                var match_content = content.substr(start, end);
                                // highlight all keywords
                                keywords.forEach(function (keyword) {
                                    var regS = new RegExp(keyword, "gi");
                                    match_content = match_content.replace(regS, "<em class=\"search-keyword\">" + keyword + "</em>");
                                });

                                str += "<p class=\"search-result\">" + match_content + "...</p>"
                            }
                            str += "</li>";
                        }
                    });
                    str += "</ul>";
                    $resultContent.innerHTML = str;
                });
            }
        });
    };

    searchFunc('/search.xml', 'searchInput', 'searchResult');
});
</script>

    <!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fas fa-arrow-up"></i>
    </a>
</div>


    <script src="/libs/materialize/materialize.min.js"></script>
    <script src="/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="/libs/aos/aos.js"></script>
    <script src="/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="/js/matery.js"></script>

    <!-- Baidu Analytics -->

    <!-- Baidu Push -->

<script>
    (function () {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        } else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>

    
    <script src="/libs/others/clicklove.js" async="async"></script>
    
    
    <script async src="/libs/others/busuanzi.pure.mini.js"></script>
    

    

    

	
    

    

    
    <script type="text/javascript" src="/libs/background/ribbon-dynamic.js" async="async"></script>
    

    
    <script src="/libs/instantpage/instantpage.js" type="module"></script>
    

<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/22.2017.summer.normal.2.model.json"},"display":{"position":"left","width":225,"height":450},"mobile":{"show":true},"log":false});</script>
        <style>
            [bg-lazy] {
                background-image: none !important;
                background-color: #eee !important;
            }
        </style>
        <script>
            window.imageLazyLoadSetting = {
                isSPA: false,
                preloadRatio: 1,
                processImages: null,
            };
        </script><script>window.addEventListener("load",function(){var t=/\.(gif|jpg|jpeg|tiff|png)$/i,r=/^data:image\/[a-z]+;base64,/;Array.prototype.slice.call(document.querySelectorAll("img[data-original]")).forEach(function(a){var e=a.parentNode;"A"===e.tagName&&(e.href.match(t)||e.href.match(r))&&(e.href=a.dataset.original)})});</script><script>!function(r){r.imageLazyLoadSetting.processImages=t;var e=r.imageLazyLoadSetting.isSPA,c=(r.imageLazyLoadSetting.preloadRatio,n());function n(){var t=Array.prototype.slice.call(document.querySelectorAll("img[data-original]")),e=Array.prototype.slice.call(document.querySelectorAll("[bg-lazy]"));return t.concat(e)}function t(){e&&(c=n());for(var t,o=0;o<c.length;o++)0<=(t=(t=c[o]).getBoundingClientRect()).bottom&&0<=t.left&&t.top<=(r.innerHeight+240||document.documentElement.clientHeight+240)&&function(){var t,e,n,a,i=c[o];e=function(){c=c.filter(function(t){return i!==t}),r.imageLazyLoadSetting.onImageLoaded&&r.imageLazyLoadSetting.onImageLoaded(i)},(t=i).hasAttribute("bg-lazy")?(t.removeAttribute("bg-lazy"),e&&e()):(n=new Image,a=t.getAttribute("data-original"),n.onload=function(){t.src=a,t.removeAttribute("data-original"),e&&e()},t.src!==a&&(n.src=a))}()}function a(){clearTimeout(t.tId),t.tId=setTimeout(t,500)}t(),document.addEventListener("scroll",a),r.addEventListener("resize",a),r.addEventListener("orientationchange",a)}(this);</script></body>

</html>
